# --------------------------------------------------------------- Imports ---------------------------------------------------------------- #

# Pip
from jsoncodable import JSONCodable

# ---------------------------------------------------------------------------------------------------------------------------------------- #



# --------------------------------------------------------- class: ListingImage ---------------------------------------------------------- #

class ListingImage(JSONCodable):

    # ------------------------------------------------------------- Init ------------------------------------------------------------- #

    def __init__(
        self,
        d: dict
    ):
        self.url = d['mixedSources']['jpeg'][-1]['url']

        sizes = self.url.split('scaled_within_')[1].split('.')[0].split('_')
        self.width = int(sizes[0])
        self.height = int(sizes[1])
        self.caption = d['caption'] if d['caption'] else None


# ---------------------------------------------------------------------------------------------------------------------------------------- #