(self.webpackChunkbqplot_image_gl=self.webpackChunkbqplot_image_gl||[]).push([[900],{8889:(t,r,n)=>{"use strict";function e(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}var a,i;function o(t,r){var n,e,a,i=t.length,o=-1;if(null==r){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(e=a=n;++o<i;)null!=(n=t[o])&&(e>n&&(e=n),a<n&&(a=n))}else for(;++o<i;)if(null!=(n=r(t[o],o,t))&&n>=n)for(e=a=n;++o<i;)null!=(n=r(t[o],o,t))&&(e>n&&(e=n),a<n&&(a=n));return[e,a]}n.d(r,{We:()=>o,Fp:()=>s,TS:()=>g,w6:()=>v,_X:()=>d,ly:()=>c}),1===(a=e).length&&(i=a,a=function(t,r){return e(i(t),r)});var h=Array.prototype,u=(h.slice,h.map,Math.sqrt(50)),f=Math.sqrt(10),l=Math.sqrt(2);function c(t,r,n){var e=Math.abs(r-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),i=e/a;return i>=u?a*=10:i>=f?a*=5:i>=l&&(a*=2),r<t?-a:a}function d(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function s(t,r){var n,e,a=t.length,i=-1;if(null==r){for(;++i<a;)if(null!=(n=t[i])&&n>=n)for(e=n;++i<a;)null!=(n=t[i])&&n>e&&(e=n)}else for(;++i<a;)if(null!=(n=r(t[i],i,t))&&n>=n)for(e=n;++i<a;)null!=(n=r(t[i],i,t))&&n>e&&(e=n);return e}function g(t){for(var r,n,e,a=t.length,i=-1,o=0;++i<a;)o+=t[i].length;for(n=new Array(o);--a>=0;)for(r=(e=t[a]).length;--r>=0;)n[--o]=e[r];return n}function v(t,r,n){t=+t,r=+r,n=(a=arguments.length)<2?(r=t,t=0,1):a<3?1:+n;for(var e=-1,a=0|Math.max(0,Math.ceil((r-t)/n)),i=new Array(a);++e<a;)i[e]=t+e*n;return i}},4900:(t,r,n)=>{"use strict";n.r(r),n.d(r,{contourDensity:()=>p,contours:()=>d});var e=n(8889),a=Array.prototype.slice;function i(t,r){return t-r}function o(t){return function(){return t}}function h(t,r){for(var n,e=-1,a=r.length;++e<a;)if(n=u(t,r[e]))return n;return 0}function u(t,r){for(var n=r[0],e=r[1],a=-1,i=0,o=t.length,h=o-1;i<o;h=i++){var u=t[i],l=u[0],c=u[1],d=t[h],s=d[0],g=d[1];if(f(u,d,r))return 0;c>e!=g>e&&n<(s-l)*(e-c)/(g-c)+l&&(a=-a)}return a}function f(t,r,n){var e,a,i,o;return function(t,r,n){return(r[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(r[1]-t[1])}(t,r,n)&&(a=t[e=+(t[0]===r[0])],i=n[e],o=r[e],a<=i&&i<=o||o<=i&&i<=a)}function l(){}var c=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function d(){var t=1,r=1,n=e._X,u=g;function f(t){var r=n(t);if(Array.isArray(r))r=r.slice().sort(i);else{var a=(0,e.We)(t),o=a[0],h=a[1];r=(0,e.ly)(o,h,r),r=(0,e.w6)(Math.floor(o/r)*r,Math.floor(h/r)*r,r)}return r.map((function(r){return d(t,r)}))}function d(n,e){var a=[],i=[];return function(n,e,a){var i,o,h,u,f,l,d=new Array,g=new Array;for(i=o=-1,u=n[0]>=e,c[u<<1].forEach(v);++i<t-1;)h=u,u=n[i+1]>=e,c[h|u<<1].forEach(v);for(c[u<<0].forEach(v);++o<r-1;){for(i=-1,u=n[o*t+t]>=e,f=n[o*t]>=e,c[u<<1|f<<2].forEach(v);++i<t-1;)h=u,u=n[o*t+t+i+1]>=e,l=f,f=n[o*t+i+1]>=e,c[h|u<<1|f<<2|l<<3].forEach(v);c[u|f<<3].forEach(v)}for(i=-1,f=n[o*t]>=e,c[f<<2].forEach(v);++i<t-1;)l=f,f=n[o*t+i+1]>=e,c[f<<2|l<<3].forEach(v);function v(t){var r,n,e=[t[0][0]+i,t[0][1]+o],h=[t[1][0]+i,t[1][1]+o],u=s(e),f=s(h);(r=g[u])?(n=d[f])?(delete g[r.end],delete d[n.start],r===n?(r.ring.push(h),a(r.ring)):d[r.start]=g[n.end]={start:r.start,end:n.end,ring:r.ring.concat(n.ring)}):(delete g[r.end],r.ring.push(h),g[r.end=f]=r):(r=d[f])?(n=g[u])?(delete d[r.start],delete g[n.end],r===n?(r.ring.push(h),a(r.ring)):d[n.start]=g[r.end]={start:n.start,end:r.end,ring:n.ring.concat(r.ring)}):(delete d[r.start],r.ring.unshift(e),d[r.start=u]=r):d[u]=g[f]={start:u,end:f,ring:[e,h]}}c[f<<3].forEach(v)}(n,e,(function(t){u(t,n,e),function(t){for(var r=0,n=t.length,e=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++r<n;)e+=t[r-1][1]*t[r][0]-t[r-1][0]*t[r][1];return e}(t)>0?a.push([t]):i.push(t)})),i.forEach((function(t){for(var r,n=0,e=a.length;n<e;++n)if(-1!==h((r=a[n])[0],t))return void r.push(t)})),{type:"MultiPolygon",value:e,coordinates:a}}function s(r){return 2*r[0]+r[1]*(t+1)*4}function g(n,e,a){n.forEach((function(n){var i,o=n[0],h=n[1],u=0|o,f=0|h,l=e[f*t+u];o>0&&o<t&&u===o&&(i=e[f*t+u-1],n[0]=o+(a-i)/(l-i)-.5),h>0&&h<r&&f===h&&(i=e[(f-1)*t+u],n[1]=h+(a-i)/(l-i)-.5)}))}return f.contour=d,f.size=function(n){if(!arguments.length)return[t,r];var e=Math.ceil(n[0]),a=Math.ceil(n[1]);if(!(e>0&&a>0))throw new Error("invalid size");return t=e,r=a,f},f.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?o(a.call(t)):o(t),f):n},f.smooth=function(t){return arguments.length?(u=t?g:l,f):u===g},f}function s(t,r,n){for(var e=t.width,a=t.height,i=1+(n<<1),o=0;o<a;++o)for(var h=0,u=0;h<e+n;++h)h<e&&(u+=t.data[h+o*e]),h>=n&&(h>=i&&(u-=t.data[h-i+o*e]),r.data[h-n+o*e]=u/Math.min(h+1,e-1+i-h,i))}function g(t,r,n){for(var e=t.width,a=t.height,i=1+(n<<1),o=0;o<e;++o)for(var h=0,u=0;h<a+n;++h)h<a&&(u+=t.data[o+h*e]),h>=n&&(h>=i&&(u-=t.data[o+(h-i)*e]),r.data[o+(h-n)*e]=u/Math.min(h+1,a-1+i-h,i))}function v(t){return t[0]}function w(t){return t[1]}function M(){return 1}function p(){var t=v,r=w,n=M,i=960,h=500,u=20,f=2,l=3*u,c=i+2*l>>f,p=h+2*l>>f,y=o(20);function E(a){var i=new Float32Array(c*p),o=new Float32Array(c*p);a.forEach((function(e,a,o){var h=+t(e,a,o)+l>>f,u=+r(e,a,o)+l>>f,d=+n(e,a,o);h>=0&&h<c&&u>=0&&u<p&&(i[h+u*c]+=d)})),s({width:c,height:p,data:i},{width:c,height:p,data:o},u>>f),g({width:c,height:p,data:o},{width:c,height:p,data:i},u>>f),s({width:c,height:p,data:i},{width:c,height:p,data:o},u>>f),g({width:c,height:p,data:o},{width:c,height:p,data:i},u>>f),s({width:c,height:p,data:i},{width:c,height:p,data:o},u>>f),g({width:c,height:p,data:o},{width:c,height:p,data:i},u>>f);var h=y(i);if(!Array.isArray(h)){var v=(0,e.Fp)(i);h=(0,e.ly)(0,v,h),(h=(0,e.w6)(0,Math.floor(v/h)*h,h)).shift()}return d().thresholds(h).size([c,p])(i).map(A)}function A(t){return t.value*=Math.pow(2,-2*f),t.coordinates.forEach(m),t}function m(t){t.forEach(b)}function b(t){t.forEach(q)}function q(t){t[0]=t[0]*Math.pow(2,f)-l,t[1]=t[1]*Math.pow(2,f)-l}function z(){return c=i+2*(l=3*u)>>f,p=h+2*l>>f,E}return E.x=function(r){return arguments.length?(t="function"==typeof r?r:o(+r),E):t},E.y=function(t){return arguments.length?(r="function"==typeof t?t:o(+t),E):r},E.weight=function(t){return arguments.length?(n="function"==typeof t?t:o(+t),E):n},E.size=function(t){if(!arguments.length)return[i,h];var r=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(r>=0||r>=0))throw new Error("invalid size");return i=r,h=n,z()},E.cellSize=function(t){if(!arguments.length)return 1<<f;if(!((t=+t)>=1))throw new Error("invalid cell size");return f=Math.floor(Math.log(t)/Math.LN2),z()},E.thresholds=function(t){return arguments.length?(y="function"==typeof t?t:Array.isArray(t)?o(a.call(t)):o(t),E):y},E.bandwidth=function(t){if(!arguments.length)return Math.sqrt(u*(u+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return u=Math.round((Math.sqrt(4*t*t+1)-1)/2),z()},E}}}]);