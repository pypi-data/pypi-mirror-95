(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{1073:function(e,t,r){"use strict";r.r(t);r(10),r(7),r(6),r(3),r(8),r(34),r(36);var n=r(1),o=r(31),l=r(844),c=r(845);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={data:function(){return{search:"",headers:[{text:this.$t("generic.name"),align:"left",value:"text"},{text:this.$t("labels.shortkey"),value:"suffix_key"},{text:this.$t("labels.color"),sortable:!1,value:"background_color"}],colorRules:l.a,labelNameRules:l.d}},computed:d(d({},Object(o.e)("labels",["items","selected","loading"])),Object(o.c)("labels",["shortkeys"])),created:function(){this.getLabelList({projectId:this.$route.params.id})},methods:d(d(d({},Object(o.b)("labels",["getLabelList","updateLabel"])),Object(o.d)("labels",["updateSelected"])),{},{handleUpdateLabel:function(e){var data=d({projectId:this.$route.params.id},e);this.updateLabel(data)},availableShortkeys:function(e){var t=this.items.map((function(e){return e.suffix_key}));return this.shortkeys.filter((function(r){return r===e||!t.includes(r)}))},textColor:function(e){return Object(c.a)(e)}})},h=r(15),v=r(16),y=r.n(v),x=r(213),_=r(1082),k=r(840),O=r(830),j=r(149),w=r(90),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-data-table",{attrs:{value:e.selected,headers:e.headers,items:e.items,search:e.search,loading:e.loading,"loading-text":e.$t("generic.loading"),"no-data-text":e.$t("vuetify.noDataAvailable"),"footer-props":{showFirstLastPage:!0,"items-per-page-options":[5,10,15,e.$t("generic.all")],"items-per-page-text":e.$t("vuetify.itemsPerPageText"),"page-text":e.$t("dataset.pageText")},"item-key":"id","show-select":""},on:{input:e.updateSelected},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-text-field",{attrs:{"prepend-inner-icon":"search",label:e.$t("generic.search"),"single-line":"","hide-details":"",filled:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]},proxy:!0},{key:"item.text",fn:function(t){var n=t.item;return[r("v-edit-dialog",{scopedSlots:e._u([{key:"input",fn:function(){return[r("v-text-field",{attrs:{value:n.text,rules:e.labelNameRules(e.$t("rules.labelNameRules")),label:e.$t("generic.edit"),"single-line":""},on:{change:function(t){return e.handleUpdateLabel({id:n.id,text:t})}}})]},proxy:!0}],null,!0)},[e._v("\n      "+e._s(n.text)+"\n      ")])]}},{key:"item.suffix_key",fn:function(t){var n=t.item;return[r("v-edit-dialog",{scopedSlots:e._u([{key:"input",fn:function(){return[r("v-select",{attrs:{value:n.suffix_key,items:e.availableShortkeys(n.suffix_key),label:e.$t("annotation.key")},on:{change:function(t){return e.handleUpdateLabel({id:n.id,suffix_key:t})}}})]},proxy:!0}],null,!0)},[r("div",[e._v(e._s(n.suffix_key))])])]}},{key:"item.background_color",fn:function(t){var n=t.item;return[r("v-edit-dialog",{scopedSlots:e._u([{key:"input",fn:function(){return[r("v-color-picker",{staticClass:"ma-2",attrs:{value:n.background_color,rules:e.colorRules(e.$t("rules.colorRules")),"show-swatches":"","hide-mode-switch":"",width:"800",mode:"hexa"},on:{"update:color":function(t){return e.handleUpdateLabel({id:n.id,background_color:t.hex})}}})]},proxy:!0}],null,!0)},[r("v-chip",{attrs:{color:n.background_color,"text-color":e.textColor(n.background_color),dark:""}},[e._v("\n        "+e._s(n.background_color)+"\n      ")])],1)]}}])})}),[],!1,null,null,null),$=component.exports;y()(component,{VChip:x.a,VColorPicker:_.a,VDataTable:k.a,VEditDialog:O.a,VSelect:j.a,VTextField:w.a});var L=r(884),D=r(76),P={components:{BaseCard:D.a},props:{createLabel:{type:Function,default:function(){},required:!0},keys:{type:Array,default:function(){return[]},required:!0}},data:function(){return{valid:!1,labelName:"",suffixKey:"",color:"",labelNameRules:l.d,colorRules:l.a,showError:!1}},methods:{cancel:function(){this.$emit("close")},validate:function(){return this.$refs.form.validate()},reset:function(){this.$refs.form.reset(),this.cancel("close")},create:function(){var e=this;this.validate()&&this.createLabel({projectId:this.$route.params.id,text:this.labelName,prefix_key:null,suffix_key:this.suffixKey?this.suffixKey:null,background_color:this.color.slice(0,7),text_color:"#ffffff"}).then((function(){e.reset()})).catch((function(){e.showError=!0}))}}},C=r(842),E=r(855),V=Object(h.a)(P,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("base-card",{attrs:{disabled:!e.valid,title:e.$t("labels.createLabel"),"agree-text":e.$t("generic.create"),"cancel-text":e.$t("generic.cancel")},on:{agree:e.create,cancel:e.reset},scopedSlots:e._u([{key:"content",fn:function(){return[r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.showError,expression:"showError"}],attrs:{type:"error",dismissible:""},model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}},[e._v("\n        "+e._s(e.$t("errors.labelCannotCreate"))+"\n      ")]),e._v(" "),r("v-text-field",{attrs:{rules:e.labelNameRules(e.$t("rules.labelNameRules")),label:e.$t("labels.labelName"),"prepend-icon":"label"},model:{value:e.labelName,callback:function(t){e.labelName=t},expression:"labelName"}}),e._v(" "),r("v-select",{attrs:{items:e.keys,label:e.$t("labels.key"),"prepend-icon":"mdi-keyboard"},model:{value:e.suffixKey,callback:function(t){e.suffixKey=t},expression:"suffixKey"}}),e._v(" "),r("v-color-picker",{staticClass:"ma-2",attrs:{rules:e.colorRules(e.$t("rules.colorRules")),"show-swatches":"","hide-mode-switch":"",width:"800",mode:"hexa"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)]},proxy:!0}])})}),[],!1,null,null,null),R=V.exports;y()(V,{VAlert:C.a,VColorPicker:_.a,VForm:E.a,VSelect:j.a,VTextField:w.a});var S={components:{BaseCard:D.a},props:{uploadLabel:{type:Function,default:function(){},required:!0}},data:function(){return{valid:!1,file:null,uploadSingleFileRules:l.k,showError:!1}},computed:{exampleFormat:function(){return JSON.stringify([{text:"Dog",suffix_key:"a",background_color:"#FF0000",text_color:"#ffffff"},{text:"Cat",suffix_key:"c",background_color:"#FF0000",text_color:"#ffffff"}],null,4)}},methods:{cancel:function(){this.$emit("close")},validate:function(){return this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},create:function(){var e=this;this.validate()&&this.uploadLabel({projectId:this.$route.params.id,file:this.file}).then((function(t){e.reset(),e.cancel()})).catch((function(){e.showError=!0}))}}},F=r(1027),N=r(54),I=Object(h.a)(S,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("base-card",{attrs:{disabled:!e.valid,title:e.$t("labels.importTitle"),"agree-text":e.$t("generic.upload"),"cancel-text":e.$t("generic.cancel")},on:{agree:e.create,cancel:e.cancel},scopedSlots:e._u([{key:"content",fn:function(){return[r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.showError,expression:"showError"}],attrs:{type:"error",dismissible:""},model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}},[e._v("\n        "+e._s(e.$t("errors.fileCannotUpload"))+"\n      ")]),e._v(" "),r("h2",[e._v(e._s(e.$t("labels.importMessage1")))]),e._v(" "),e.exampleFormat?r("v-sheet",{staticClass:"mb-5 pa-5",attrs:{dark:!e.$vuetify.theme.dark,light:e.$vuetify.theme.dark}},[r("pre",[e._v(e._s(e.exampleFormat))])]):e._e(),e._v(" "),r("h2",[e._v(e._s(e.$t("labels.importMessage2")))]),e._v(" "),r("v-file-input",{attrs:{rules:e.uploadSingleFileRules(e.$t("rules.uploadFileRules")),accept:".json",label:e.$t("labels.filePlaceholder")},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)]},proxy:!0}])})}),[],!1,null,null,null),T=I.exports;function A(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function M(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):A(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}y()(I,{VAlert:C.a,VFileInput:F.a,VForm:E.a,VSheet:N.a});var B={components:{ActionMenu:L.a,LabelCreationForm:R,LabelImportForm:T},data:function(){return{createDialog:!1,importDialog:!1,menuItems:[{title:this.$t("labels.createLabel"),icon:"mdi-pencil",event:"create"},{title:this.$t("labels.importLabels"),icon:"mdi-upload",event:"upload"},{title:this.$t("labels.exportLabels"),icon:"mdi-download",event:"download"}]}},computed:M({},Object(o.c)("labels",["shortkeys"])),created:function(){this.setCurrentProject(this.$route.params.id)},methods:M(M(M({},Object(o.b)("labels",["createLabel","uploadLabel","exportLabels"])),Object(o.b)("projects",["setCurrentProject"])),{},{handleDownload:function(){this.exportLabels({projectId:this.$route.params.id})}})},K=r(828),U=Object(h.a)(B,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("action-menu",{attrs:{items:e.menuItems,text:e.$t("dataset.actions")},on:{create:function(t){e.createDialog=!0},upload:function(t){e.importDialog=!0},download:e.handleDownload}}),e._v(" "),r("v-dialog",{attrs:{width:"800"},model:{value:e.createDialog,callback:function(t){e.createDialog=t},expression:"createDialog"}},[r("label-creation-form",{attrs:{"create-label":e.createLabel,keys:e.shortkeys},on:{close:function(t){e.createDialog=!1}}})],1),e._v(" "),r("v-dialog",{attrs:{width:"800"},model:{value:e.importDialog,callback:function(t){e.importDialog=t},expression:"importDialog"}},[r("label-import-form",{attrs:{"upload-label":e.uploadLabel},on:{close:function(t){e.importDialog=!1}}})],1)],1)}),[],!1,null,null,null),z=U.exports;y()(U,{VDialog:K.a});function J(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function G(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?J(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):J(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var H={components:{ConfirmForm:r(221).a},data:function(){return{dialog:!1}},computed:G(G({},Object(o.e)("labels",["selected"])),Object(o.c)("labels",["isLabelSelected"])),methods:G(G({},Object(o.b)("labels",["deleteLabel"])),{},{handleDeleteLabel:function(){var e=this.$route.params.id;this.deleteLabel(e)}})},Q=r(136),W=Object(h.a)(H,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-btn",{staticClass:"text-capitalize",attrs:{disabled:!e.isLabelSelected,outlined:""},on:{click:function(t){e.dialog=!0}}},[e._v("\n    "+e._s(e.$t("generic.delete"))+"\n  ")]),e._v(" "),r("v-dialog",{attrs:{width:"800"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("confirm-form",{attrs:{items:e.selected,title:"Delete Label",message:e.$t("labels.deleteMessage"),"item-key":"text"},on:{ok:function(t){e.deleteLabel(e.$route.params.id),e.dialog=!1},cancel:function(t){e.dialog=!1}}})],1)],1)}),[],!1,null,null,null),X=W.exports;y()(W,{VBtn:Q.a,VDialog:K.a});var Y={layout:"project",components:{LabelList:$,LabelActionMenu:z,LabelDeletionButton:X},validate:function(e){var t=e.params;return/^\d+$/.test(t.id)}},Z=r(205),ee=r(124),te=Object(h.a)(Y,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-card",[t("v-card-title",{staticClass:"mb-2"},[t("label-action-menu"),this._v(" "),t("label-deletion-button",{staticClass:"ms-2"})],1),this._v(" "),t("label-list")],1)}),[],!1,null,null,null);t.default=te.exports;y()(te,{VCard:Z.a,VCardTitle:ee.c})},844:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"l",(function(){return l})),r.d(t,"h",(function(){return c})),r.d(t,"f",(function(){return f})),r.d(t,"b",(function(){return d})),r.d(t,"g",(function(){return m})),r.d(t,"c",(function(){return h})),r.d(t,"j",(function(){return v})),r.d(t,"k",(function(){return y})),r.d(t,"e",(function(){return x})),r.d(t,"i",(function(){return _}));var n=function(e){return[function(t){return!!t||e.colorRequired}]},o=function(e){return[function(t){return!!t||e.labelRequired},function(t){return t&&t.length<=30||e.labelLessThan30Chars}]},l=function(e){return[function(t){return!!t||e.userNameRequired},function(t){return t&&t.length<=30||e.userNameLessThan30Chars}]},c=function(e){return[function(t){return!!t||e.roleRequired}]},f=function(e){return[function(t){return!!t||e.projectNameRequired},function(t){return t&&t.length<=30||e.projectNameLessThan30Chars}]},d=function(e){return[function(t){return!!t||e.descriptionRequired},function(t){return t&&t.length<=100||e.descriptionLessThan30Chars}]},m=function(e){return[function(t){return!!t||e.projectTypeRequired}]},h=function(e){return[function(t){return!!t||e.fileFormatRequired}]},v=function(e){return[function(t){return!!t||e.fileRequired},function(t){return!t||t.some((function(e){return e.size<1e8}))||e.fileLessThan1MB}]},y=function(e){return[function(t){return!!t||e.fileRequired},function(t){return!t||t.size<1e6||e.fileLessThan1MB}]},x=function(e){return[function(t){return!!t||e.passwordRequired},function(t){return t&&t.length<=30||e.passwordLessThan30Chars}]},_=function(){return[function(e){return!!e||"Name is required"}]}},845:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return l}));r(29);var n=function(e){return(299*parseInt(e.substr(1,2),16)+587*parseInt(e.substr(3,2),16)+114*parseInt(e.substr(5,2),16))/1e3<128?"#ffffff":"#000000"},o=function(e,t){return e.forEach((function(e){e.translatedName=l(e.name,t)})),e},l=function(e,t){return"project_admin"===e?t.projectAdmin:"annotator"===e?t.annotator:"annotation_approver"===e?t.annotationApprover:t.undefined}},884:function(e,t,r){"use strict";var n={props:{text:{type:String,default:"Actions"},items:{type:Array,default:function(){return[]},required:!0}}},o=r(15),l=r(16),c=r.n(l),f=r(136),d=r(171),m=r(206),h=r(138),v=r(22),y=r(115),x=r(214),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-menu",{attrs:{"offset-y":"","open-on-hover":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{color:"primary text-capitalize"}},n),[e._v("\n      "+e._s(e.text)+"\n      "),r("v-icon",[e._v("mdi-menu-down")])],1)]}}])},[e._v(" "),r("v-list",e._l(e.items,(function(t,n){return r("v-list-item",{key:n,on:{click:function(r){return e.$emit(t.event)}}},[r("v-list-item-icon",[r("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),1)],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VBtn:f.a,VIcon:d.a,VList:m.a,VListItem:h.a,VListItemContent:v.b,VListItemIcon:y.a,VListItemTitle:v.c,VMenu:x.a})}}]);