{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./src/components/tabs/AppWebcamStatus.vue?ada5","webpack:///src/components/tabs/AppWebcamStatus.vue","webpack:///./src/components/tabs/AppWebcamStatus.vue?94b6","webpack:///./src/components/tabs/AppWebcamStatus.vue","webpack:///./src/components/tabs/AppWebcamStatus.vue?0328"],"names":["redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","this","p","String","rf","f","undefined","unsafe","$","$filter","filter","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","length","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","loadingCheckForFfmepg","on","$event","handleCheckFfmpeg","isFfmpegOk","isFfmpegError","staticStyle","isFfmpegNotActive","_s","ffmpegMsg","_e","style","disabledCamBusyStyle","webcams","loadingCheckWebCams","_l","item","index","key","camera","noWebcamsMsg","isRecordOrLive","handleReCheckWebcams","loadingSetDefaultWebcam","defaultCamera","changeDefaultWebCam","domProps","loadingSetDefaultResolution","defaultResolution","changeDefaultResolution","staticRenderFns","data","error","errorMsgSetDefaultWebCam","sizes","checkRecordOrLiveInt","props","msg","created","respSize","$axios","checkRecOrLive","then","clearInterval","methods","computed","onlineWebCamsFirst","sort","a","active","b","onlyOnlineWebcams","webcam","component"],"mappings":"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","file":"js/chunk-1d5dbd58.f85e8e4c.js","sourcesContent":["'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section main-section\"},[_c('div',{staticClass:\"container box\"},[_c('p',[_vm._v(\"You need ffmpeg in order to record/stream/encode videos, you can use this button to check if ffmpeg is installed on your system.\")]),_c('b-button',{attrs:{\"type\":\"is-warning\",\"icon-left\":\"help-rhombus\",\"loading\":_vm.loadingCheckForFfmepg},on:{\"click\":function($event){return _vm.handleCheckFfmpeg()}}},[_vm._v(\"Check ffmpeg\")]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.isFfmpegOk || _vm.isFfmpegError)?_c('b-notification',{staticClass:\"not-box\",staticStyle:{\"margin-top\":\"3rem\"},attrs:{\"type\":(_vm.isFfmpegError)? 'is-warning' : 'is-info',\"has-icon\":\"\",\"active\":_vm.isFfmpegNotActive,\"aria-close-label\":\"Close notification\",\"role\":\"alert\"},on:{\"update:active\":function($event){_vm.isFfmpegNotActive=$event}}},[_c('p',{staticClass:\"not-txt\"},[_vm._v(_vm._s(_vm.ffmpegMsg))])]):_vm._e()],1)],1),(_vm.isRecordOrLive)?_c('div',{staticClass:\"container box\"},[_c('b-notification',{staticClass:\"not-box\",attrs:{\"type\":'is-dark',\"closable\":false}},[_c('div',{staticClass:\"not-txt\"},[_vm._v(\"Below options are disabled while webcam is recording or live\"),_c('div',{staticClass:\"dot-flashing\",staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"2rem\"}})])])],1):_vm._e(),_c('div',{staticClass:\"container box\",style:((_vm.isRecordOrLive)? _vm.disabledCamBusyStyle:'')},[(_vm.webcams.length)?_c('ul',{style:(_vm.loadingCheckWebCams?'opacity:0.5':'')},_vm._l((_vm.onlineWebCamsFirst),function(item,index){return _c('li',{key:index},[(item.active)?_c('b-icon',{attrs:{\"icon\":\"chevron-down-circle-outline\",\"size\":\"is-small\",\"type\":\"is-success\"}}):_c('b-icon',{attrs:{\"icon\":\"circle-off-outline\",\"size\":\"is-small\",\"type\":\"is-danger\"}}),_c('b',[_vm._v(\" - \"+_vm._s(item.camera)+\" - \")]),(item.active)?_c('span',{staticStyle:{\"color\":\"#23d160\"}},[_vm._v(\"online\")]):_c('span',{staticStyle:{\"color\":\"#ff3860\"}},[_vm._v(\"offline\")])],1)}),0):_c('div',[_vm._v(_vm._s(_vm.noWebcamsMsg))]),_c('div',{staticClass:\"has-text-centered\"},[_c('b-button',{attrs:{\"type\":\"is-warning\",\"icon-left\":\"reload\",\"loading\":_vm.loadingCheckWebCams,\"disabled\":_vm.loadingCheckWebCams || _vm.isRecordOrLive},on:{\"click\":function($event){return _vm.handleReCheckWebcams()}}},[_vm._v(\"ReCheck WebCams\")])],1)]),_c('div',{staticClass:\"container box\",style:((_vm.isRecordOrLive)? _vm.disabledCamBusyStyle:'')},[(_vm.webcams.length)?_c('b-field',{attrs:{\"label\":\"Default Webacam\"}},[_c('b-select',{staticClass:\"has-text-centered\",attrs:{\"loading\":_vm.loadingSetDefaultWebcam,\"disabled\":_vm.loadingSetDefaultWebcam || _vm.isRecordOrLive,\"placeholder\":\"Set default webcam\",\"rounded\":\"\",\"value\":_vm.defaultCamera},on:{\"input\":_vm.changeDefaultWebCam}},_vm._l((_vm.onlyOnlineWebcams),function(item,index){return _c('option',{key:index,domProps:{\"value\":item.camera}},[_vm._v(_vm._s(item.camera))])}),0)],1):_vm._e(),(_vm.webcams.length)?_c('b-field',{attrs:{\"label\":\"Default Resolution\"}},[_c('b-select',{staticClass:\"has-text-centered\",attrs:{\"loading\":_vm.loadingSetDefaultResolution,\"disabled\":_vm.loadingSetDefaultResolution || _vm.isRecordOrLive,\"placeholder\":\"Set default resolution\",\"rounded\":\"\",\"value\":_vm.defaultResolution},on:{\"input\":_vm.changeDefaultResolution}},_vm._l((_vm.sizes),function(item,index){return _c('option',{key:index,domProps:{\"value\":item}},[_vm._v(_vm._s(item))])}),0)],1):_c('div',[_vm._v(_vm._s(_vm.noWebcamsMsg))])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"section main-section\">\r\n    <div class=\"container box\">\r\n      <p>You need ffmpeg in order to record/stream/encode videos, you can use this button to check if ffmpeg is installed on your system.</p>\r\n\r\n      <b-button\r\n        type=\"is-warning\"\r\n        icon-left=\"help-rhombus\"\r\n        :loading=\"loadingCheckForFfmepg\"\r\n        @click=\"handleCheckFfmpeg()\"\r\n      >Check ffmpeg</b-button>\r\n\r\n      <transition name=\"fade\">\r\n        <b-notification\r\n          style=\"margin-top:3rem\"\r\n          v-if=\"isFfmpegOk || isFfmpegError\"\r\n          :type=\"(isFfmpegError)? 'is-warning' : 'is-info'\"\r\n          has-icon\r\n          :active.sync=\"isFfmpegNotActive\"\r\n          aria-close-label=\"Close notification\"\r\n          role=\"alert\"\r\n          class=\"not-box\"\r\n        >\r\n          <p class=\"not-txt\">{{ ffmpegMsg }}</p>\r\n        </b-notification>\r\n      </transition>\r\n    </div>\r\n\r\n    <div class=\"container box\" v-if=\"isRecordOrLive\">\r\n\r\n            <b-notification\r\n            :type=\"'is-dark'\"\r\n            class=\"not-box\"\r\n            :closable=\"false\">\r\n            <div class=\"not-txt\">Below options are disabled while webcam is recording or live<div class=\"dot-flashing\" style=\"display: inline-block;margin-left: 2rem;\"></div>\r\n            </div>\r\n        </b-notification>\r\n\r\n    </div>\r\n    \r\n\r\n    <div class=\"container box\" :style=\"(isRecordOrLive)? disabledCamBusyStyle:''\">\r\n      <ul v-if=\"webcams.length\"\r\n       :style=\"loadingCheckWebCams?'opacity:0.5':''\"\r\n      >\r\n        <li v-for=\"(item, index) in onlineWebCamsFirst\" :key=\"index\">\r\n          <b-icon\r\n            v-if=\"item.active\"\r\n            icon=\"chevron-down-circle-outline\"\r\n            size=\"is-small\"\r\n            type=\"is-success\"\r\n          ></b-icon>\r\n          <b-icon v-else icon=\"circle-off-outline\" size=\"is-small\" type=\"is-danger\"></b-icon>\r\n          <b> - {{item.camera}} - </b>\r\n          <span v-if=\"item.active\" style=\"color: #23d160\">online</span>\r\n          <span v-else style=\"color: #ff3860\">offline</span>\r\n        </li>\r\n      </ul>\r\n      <div v-else>{{noWebcamsMsg}}</div>\r\n      \r\n    <div class=\"has-text-centered\">\r\n        <b-button\r\n          type=\"is-warning\"\r\n          icon-left=\"reload\"\r\n          :loading=\"loadingCheckWebCams\"\r\n          :disabled=\"loadingCheckWebCams || isRecordOrLive\"\r\n          @click=\"handleReCheckWebcams()\"\r\n        >ReCheck WebCams</b-button>\r\n      </div>\r\n      \r\n    </div>\r\n\r\n    <div class=\"container box\" :style=\"(isRecordOrLive)? disabledCamBusyStyle:''\">\r\n      <b-field v-if=\"webcams.length\" label=\"Default Webacam\">\r\n        <b-select\r\n          :loading=\"loadingSetDefaultWebcam\"\r\n          :disabled=\"loadingSetDefaultWebcam || isRecordOrLive\"\r\n          placeholder=\"Set default webcam\"\r\n          rounded\r\n          class=\"has-text-centered\"\r\n          :value=\"defaultCamera\"\r\n          @input=\"changeDefaultWebCam\"\r\n        >\r\n          <option\r\n            v-for=\"(item, index) in onlyOnlineWebcams\"\r\n            :key=\"index\"\r\n            :value=\"item.camera\"\r\n          >{{item.camera}}</option>\r\n        </b-select>\r\n      </b-field>\r\n\r\n      <b-field v-if=\"webcams.length\" label=\"Default Resolution\">\r\n        <b-select\r\n          :loading=\"loadingSetDefaultResolution\"\r\n          :disabled=\"loadingSetDefaultResolution || isRecordOrLive\"\r\n          placeholder=\"Set default resolution\"\r\n          rounded\r\n          class=\"has-text-centered\"\r\n          :value=\"defaultResolution\"\r\n          @input=\"changeDefaultResolution\"\r\n        >\r\n          <option\r\n            v-for=\"(item, index) in sizes\"\r\n            :key=\"index\"\r\n            :value=\"item\"\r\n          >{{item}}</option>\r\n        </b-select>\r\n      </b-field>\r\n\r\n      <div v-else>{{noWebcamsMsg}}</div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n  name: \"AppWebcamStatus\",\r\n\r\n  data() {\r\n    return {\r\n      error: false,\r\n      isFfmpegOk: false,\r\n      isFfmpegError: false,\r\n      isFfmpegNotActive: false,\r\n      loadingCheckForFfmepg:false,\r\n      ffmpegMsg: \"\",\r\n      loadingCheckWebCams: false,\r\n      errorMsgSetDefaultWebCam: \"\",\r\n      loadingSetDefaultWebcam: false,\r\n      loadingSetDefaultResolution: false,\r\n      webcams: [],\r\n      sizes:[],\r\n      defaultCamera: \"\",\r\n      defaultResolution: \"\",\r\n      isRecordOrLive:false,\r\n      checkRecordOrLiveInt:undefined\r\n    };\r\n  },\r\n  props: {\r\n    msg: String\r\n  },\r\n  created() {\r\n    this.noWebcamsMsg = \" No webcams detected please conect one and recheck.\";\r\n    this.disabledCamBusyStyle = 'opacity:0.6;filter: blur(4px);',\r\n\r\n    this.$axios\r\n      .get(this.$axios.defaults.apiEndpoints[\"get-default-cam\"])\r\n      .then(resp => {\r\n        if (!resp.data.error) {\r\n          this.defaultCamera = resp.data.camera;\r\n        this.$axios\r\n      .get(this.$axios.defaults.apiEndpoints[\"get-cam-sizes\"], { params:{ 'cam':this.defaultCamera } }).then(\r\nrespSize => {\r\n    if (!respSize.data.error) { \r\n     this.sizes = respSize.data.sizes\r\n    }\r\n}\r\n\r\n      )\r\n          \r\n          \r\n        }\r\n      });\r\n\r\n      this.$axios.get(this.$axios.defaults.apiEndpoints[\"get-def-cam-size\"]).then(\r\n          (res) =>{\r\n              if(!res.data.error){\r\n                this.defaultResolution = res.data.defCamSize\r\n              }\r\n          }\r\n\r\n      )\r\n\r\n    this.$axios\r\n      .get(this.$axios.defaults.apiEndpoints[\"check-webcams\"])\r\n      .then(res => {\r\n        this.webcams = res.data;\r\n      })\r\n      .catch(() => {\r\n        this.webcams = [];\r\n      });\r\n\r\n\r\n    let checkRecOrLive = async () => {\r\n     \r\n     try{\r\n     let respLive = await this.$axios.get(this.$axios.defaults.apiEndpoints['live-video-check']);\r\n     let respRecord = await this.$axios.get(this.$axios.defaults.apiEndpoints['record-status']);\r\n    \r\n\r\n        this.isRecordOrLive = respLive.data.live || respRecord.data.recording;\r\n        if( ! this.isRecordOrLive && typeof(this.checkRecordOrLiveInt) !== undefined){\r\n          clearInterval(this.checkRecordOrLiveInt);\r\n        }\r\n        return true;\r\n     \r\n     }catch(err ){\r\n        console.log(err);\r\n     }\r\n\r\n    }\r\n\r\n    checkRecOrLive().then(\r\n      () => {\r\n         if(this.isRecordOrLive){\r\n           this.checkRecordOrLiveInt = setInterval(checkRecOrLive, 350)\r\n         }\r\n\r\n      }\r\n\r\n\r\n    );\r\n\r\n  },\r\n    beforeDestroy(){\r\n\r\n    if(typeof(this.checkRecordOrLiveInt) !== 'undefined'){\r\n      clearInterval(this.checkRecordOrLiveInt);\r\n    } \r\n  },\r\n  methods: {\r\n    async handleCheckFfmpeg() {\r\n      let toastHelper = await import(\"./../util/helpers/toastHelper\");\r\n      this.isFfmpegNotActive = true;\r\n      this.loadingCheckForFfmepg = true;\r\n      try {\r\n        let resp = await this.$axios.get(\r\n          this.$axios.defaults.apiEndpoints[\"check-ffmpeg\"]\r\n        );\r\n        if (resp.data.check) {\r\n          this.ffmpegMsg = \"ffmpeg software was found on your system\";\r\n          this.isFfmpegOk = true;\r\n        } else {\r\n          this.ffmpegMsg = \"ffmpeg software was not found on your system install it using 'apt-get install ffmpeg' and recheck\";\r\n          this.isFfmpegError = true;\r\n        }\r\n        this.loadingCheckForFfmepg = false;\r\n      } catch (e) {\r\n        toastHelper.showToastError(e.toString(), this.$buefy);\r\n        this.loadingCheckForFfmepg = false;\r\n      }\r\n    },\r\n\r\n    async handleReCheckWebcams() {\r\n      \r\n      let toastHelper = await import(\"./../util/helpers/toastHelper\");\r\n      this.loadingCheckWebCams = true;\r\n\r\n      try {\r\n        let resp = await this.$axios.get(this.$axios.defaults.apiEndpoints[\"check-webcams\"])\r\n        this.webcams = resp.data;\r\n        this.loadingCheckWebCams = false;\r\n      } catch (e) {\r\n        toastHelper.showToastError(e.toString(), this.$buefy);\r\n        this.loadingCheckWebCams = false;\r\n      }\r\n    },\r\n\r\n    async changeDefaultWebCam(inputChange) {\r\n    \r\n      if(this.defaultCamera !== inputChange) {\r\n\r\n      this.loadingSetDefaultWebcam = true;\r\n      let toastHelper = await import(\"./../util/helpers/toastHelper\");\r\n\r\n      this.$axios\r\n        .post(this.$axios.defaults.apiEndpoints[\"set-default-cam\"], {\r\n          cam: inputChange\r\n        })\r\n        .then(async resp => {\r\n          if (!resp.data.error) {\r\n            this.loadingSetDefaultResolution = true;\r\n            let respSc = await this.$axios\r\n        .post(this.$axios.defaults.apiEndpoints[\"set-def-cam-max-size\"], {\r\n          cam: inputChange\r\n        });\r\n          \r\n           if(!respSc.data.error){\r\n            this.defaultCamera = inputChange;\r\n             this.defaultResolution = respSc.data.size;\r\n           }else{\r\n             toastHelper.showToastError(resp.data.msg, this.$buefy);\r\n           }\r\n            this.loadingSetDefaultWebcam = false;\r\n            this.loadingSetDefaultResolution = false;\r\n          } else {\r\n            toastHelper.showToastError(resp.data.msg, this.$buefy);\r\n            this.loadingSetDefaultWebcam = false;\r\n          }\r\n        })\r\n        .catch(e => {\r\n          toastHelper.showToastError(e.toString(), this.$buefy);\r\n          this.loadingSetDefaultWebcam = false;\r\n        });\r\n      }\r\n    },\r\n\r\nasync changeDefaultResolution(inputChange){\r\n  \r\n  this.loadingSetDefaultResolution = true;\r\n  let toastHelper = await import(\"./../util/helpers/toastHelper\");\r\n \r\n        this.$axios\r\n        .post(this.$axios.defaults.apiEndpoints[\"set-def-cam-size\"], {\r\n          cam: this.defaultCamera,\r\n          size: inputChange\r\n        })\r\n        .then(resp => {\r\n          if (!resp.data.error) {\r\n            this.defaultResolution = inputChange;\r\n            this.loadingSetDefaultResolution = false;\r\n          } else {\r\n            toastHelper.showToastError(resp.data.msg, this.$buefy);\r\n            this.loadingSetDefaultResolution = false;\r\n          }\r\n        })\r\n        .catch(e => {\r\n          toastHelper.showToastError(e.toString(), this.$buefy);\r\n          this.loadingSetDefaultResolution = false;\r\n        });\r\n\r\n},\r\n\r\n  },\r\n  computed: {\r\n    onlineWebCamsFirst: function() {\r\n      let webcams = this.webcams;\r\n      return webcams.sort((a, b) => {\r\n        if (a.active === b.active) {\r\n          return (\r\n            Number(a.camera[a.camera.length - 1]).valueOf() -\r\n            Number(b.camera[b.camera.length - 1]).valueOf()\r\n          );\r\n        }\r\n        return b.active - a.active;\r\n      });\r\n    },\r\n    onlyOnlineWebcams() {\r\n      return this.webcams.filter(webcam => {\r\n        return webcam.active;\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\nul li {\r\n  padding: 0.5rem;\r\n}\r\n\r\nbutton {\r\n  margin-top: 1rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppWebcamStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppWebcamStatus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppWebcamStatus.vue?vue&type=template&id=806b2fa8&scoped=true&\"\nimport script from \"./AppWebcamStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./AppWebcamStatus.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppWebcamStatus.vue?vue&type=style&index=0&id=806b2fa8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"806b2fa8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppWebcamStatus.vue?vue&type=style&index=0&id=806b2fa8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppWebcamStatus.vue?vue&type=style&index=0&id=806b2fa8&scoped=true&lang=scss&\""],"sourceRoot":""}