(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d5dbd58"],{2184:function(e,t,a){},"25f0":function(e,t,a){"use strict";var n=a("6eeb"),i=a("825a"),r=a("d039"),s=a("ad6d"),o="toString",c=RegExp.prototype,l=c[o],u=r((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=o;(u||d)&&n(RegExp.prototype,o,(function(){var e=i(this),t=String(e.source),a=e.flags,n=String(void 0===a&&e instanceof RegExp&&!("flags"in c)?s.call(e):a);return"/"+t+"/"+n}),{unsafe:!0})},"4de4":function(e,t,a){"use strict";var n=a("23e7"),i=a("b727").filter,r=a("1dde"),s=a("ae40"),o=r("filter"),c=s("filter");n({target:"Array",proto:!0,forced:!o||!c},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},cb21:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section main-section"},[a("div",{staticClass:"container box"},[a("p",[e._v("You need ffmpeg in order to record/stream/encode videos, you can use this button to check if ffmpeg is installed on your system.")]),a("b-button",{attrs:{type:"is-warning","icon-left":"help-rhombus",loading:e.loadingCheckForFfmepg},on:{click:function(t){return e.handleCheckFfmpeg()}}},[e._v("Check ffmpeg")]),a("transition",{attrs:{name:"fade"}},[e.isFfmpegOk||e.isFfmpegError?a("b-notification",{staticClass:"not-box",staticStyle:{"margin-top":"3rem"},attrs:{type:e.isFfmpegError?"is-warning":"is-info","has-icon":"",active:e.isFfmpegNotActive,"aria-close-label":"Close notification",role:"alert"},on:{"update:active":function(t){e.isFfmpegNotActive=t}}},[a("p",{staticClass:"not-txt"},[e._v(e._s(e.ffmpegMsg))])]):e._e()],1)],1),e.isRecordOrLive?a("div",{staticClass:"container box"},[a("b-notification",{staticClass:"not-box",attrs:{type:"is-dark",closable:!1}},[a("div",{staticClass:"not-txt"},[e._v("Below options are disabled while webcam is recording or live"),a("div",{staticClass:"dot-flashing",staticStyle:{display:"inline-block","margin-left":"2rem"}})])])],1):e._e(),a("div",{staticClass:"container box",style:e.isRecordOrLive?e.disabledCamBusyStyle:""},[e.webcams.length?a("ul",{style:e.loadingCheckWebCams?"opacity:0.5":""},e._l(e.onlineWebCamsFirst,(function(t,n){return a("li",{key:n},[t.active?a("b-icon",{attrs:{icon:"chevron-down-circle-outline",size:"is-small",type:"is-success"}}):a("b-icon",{attrs:{icon:"circle-off-outline",size:"is-small",type:"is-danger"}}),a("b",[e._v(" - "+e._s(t.camera)+" - ")]),t.active?a("span",{staticStyle:{color:"#23d160"}},[e._v("online")]):a("span",{staticStyle:{color:"#ff3860"}},[e._v("offline")])],1)})),0):a("div",[e._v(e._s(e.noWebcamsMsg))]),a("div",{staticClass:"has-text-centered"},[a("b-button",{attrs:{type:"is-warning","icon-left":"reload",loading:e.loadingCheckWebCams,disabled:e.loadingCheckWebCams||e.isRecordOrLive},on:{click:function(t){return e.handleReCheckWebcams()}}},[e._v("ReCheck WebCams")])],1)]),a("div",{staticClass:"container box",style:e.isRecordOrLive?e.disabledCamBusyStyle:""},[e.webcams.length?a("b-field",{attrs:{label:"Default Webacam"}},[a("b-select",{staticClass:"has-text-centered",attrs:{loading:e.loadingSetDefaultWebcam,disabled:e.loadingSetDefaultWebcam||e.isRecordOrLive,placeholder:"Set default webcam",rounded:"",value:e.defaultCamera},on:{input:e.changeDefaultWebCam}},e._l(e.onlyOnlineWebcams,(function(t,n){return a("option",{key:n,domProps:{value:t.camera}},[e._v(e._s(t.camera))])})),0)],1):e._e(),e.webcams.length?a("b-field",{attrs:{label:"Default Resolution"}},[a("b-select",{staticClass:"has-text-centered",attrs:{loading:e.loadingSetDefaultResolution,disabled:e.loadingSetDefaultResolution||e.isRecordOrLive,placeholder:"Set default resolution",rounded:"",value:e.defaultResolution},on:{input:e.changeDefaultResolution}},e._l(e.sizes,(function(t,n){return a("option",{key:n,domProps:{value:t}},[e._v(e._s(t))])})),0)],1):a("div",[e._v(e._s(e.noWebcamsMsg))])],1)])},i=[],r=(a("4de4"),a("a9e3"),a("d3b7"),a("25f0"),a("53ca")),s=(a("96cf"),a("1da1")),o={name:"AppWebcamStatus",data:function(){return{error:!1,isFfmpegOk:!1,isFfmpegError:!1,isFfmpegNotActive:!1,loadingCheckForFfmepg:!1,ffmpegMsg:"",loadingCheckWebCams:!1,errorMsgSetDefaultWebCam:"",loadingSetDefaultWebcam:!1,loadingSetDefaultResolution:!1,webcams:[],sizes:[],defaultCamera:"",defaultResolution:"",isRecordOrLive:!1,checkRecordOrLiveInt:void 0}},props:{msg:String},created:function(){var e=this;this.noWebcamsMsg=" No webcams detected please conect one and recheck.",this.disabledCamBusyStyle="opacity:0.6;filter: blur(4px);",this.$axios.get(this.$axios.defaults.apiEndpoints["get-default-cam"]).then((function(t){t.data.error||(e.defaultCamera=t.data.camera,e.$axios.get(e.$axios.defaults.apiEndpoints["get-cam-sizes"],{params:{cam:e.defaultCamera}}).then((function(t){t.data.error||(e.sizes=t.data.sizes)})))})),this.$axios.get(this.$axios.defaults.apiEndpoints["get-def-cam-size"]).then((function(t){t.data.error||(e.defaultResolution=t.data.defCamSize)})),this.$axios.get(this.$axios.defaults.apiEndpoints["check-webcams"]).then((function(t){e.webcams=t.data})).catch((function(){e.webcams=[]}));var t=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get(e.$axios.defaults.apiEndpoints["live-video-check"]);case 3:return a=t.sent,t.next=6,e.$axios.get(e.$axios.defaults.apiEndpoints["record-status"]);case 6:return n=t.sent,e.isRecordOrLive=a.data.live||n.data.recording,e.isRecordOrLive||void 0===Object(r["a"])(e.checkRecordOrLiveInt)||clearInterval(e.checkRecordOrLiveInt),t.abrupt("return",!0);case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();t().then((function(){e.isRecordOrLive&&(e.checkRecordOrLiveInt=setInterval(t,350))}))},beforeDestroy:function(){"undefined"!==typeof this.checkRecordOrLiveInt&&clearInterval(this.checkRecordOrLiveInt)},methods:{handleCheckFfmpeg:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.e("chunk-2d0b68d8").then(a.bind(null,"1e3a"));case 2:return n=t.sent,e.isFfmpegNotActive=!0,e.loadingCheckForFfmepg=!0,t.prev=5,t.next=8,e.$axios.get(e.$axios.defaults.apiEndpoints["check-ffmpeg"]);case 8:i=t.sent,i.data.check?(e.ffmpegMsg="ffmpeg software was found on your system",e.isFfmpegOk=!0):(e.ffmpegMsg="ffmpeg software was not found on your system install it using 'apt-get install ffmpeg' and recheck",e.isFfmpegError=!0),e.loadingCheckForFfmepg=!1,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](5),n.showToastError(t.t0.toString(),e.$buefy),e.loadingCheckForFfmepg=!1;case 17:case"end":return t.stop()}}),t,null,[[5,13]])})))()},handleReCheckWebcams:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.e("chunk-2d0b68d8").then(a.bind(null,"1e3a"));case 2:return n=t.sent,e.loadingCheckWebCams=!0,t.prev=4,t.next=7,e.$axios.get(e.$axios.defaults.apiEndpoints["check-webcams"]);case 7:i=t.sent,e.webcams=i.data,e.loadingCheckWebCams=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](4),n.showToastError(t.t0.toString(),e.$buefy),e.loadingCheckWebCams=!1;case 16:case"end":return t.stop()}}),t,null,[[4,12]])})))()},changeDefaultWebCam:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.defaultCamera===e){n.next=6;break}return t.loadingSetDefaultWebcam=!0,n.next=4,a.e("chunk-2d0b68d8").then(a.bind(null,"1e3a"));case 4:i=n.sent,t.$axios.post(t.$axios.defaults.apiEndpoints["set-default-cam"],{cam:e}).then(function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(n){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n.data.error){a.next=10;break}return t.loadingSetDefaultResolution=!0,a.next=4,t.$axios.post(t.$axios.defaults.apiEndpoints["set-def-cam-max-size"],{cam:e});case 4:r=a.sent,r.data.error?i.showToastError(n.data.msg,t.$buefy):(t.defaultCamera=e,t.defaultResolution=r.data.size),t.loadingSetDefaultWebcam=!1,t.loadingSetDefaultResolution=!1,a.next=12;break;case 10:i.showToastError(n.data.msg,t.$buefy),t.loadingSetDefaultWebcam=!1;case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){i.showToastError(e.toString(),t.$buefy),t.loadingSetDefaultWebcam=!1}));case 6:case"end":return n.stop()}}),n)})))()},changeDefaultResolution:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loadingSetDefaultResolution=!0,n.next=3,a.e("chunk-2d0b68d8").then(a.bind(null,"1e3a"));case 3:i=n.sent,t.$axios.post(t.$axios.defaults.apiEndpoints["set-def-cam-size"],{cam:t.defaultCamera,size:e}).then((function(a){a.data.error?(i.showToastError(a.data.msg,t.$buefy),t.loadingSetDefaultResolution=!1):(t.defaultResolution=e,t.loadingSetDefaultResolution=!1)})).catch((function(e){i.showToastError(e.toString(),t.$buefy),t.loadingSetDefaultResolution=!1}));case 5:case"end":return n.stop()}}),n)})))()}},computed:{onlineWebCamsFirst:function(){var e=this.webcams;return e.sort((function(e,t){return e.active===t.active?Number(e.camera[e.camera.length-1]).valueOf()-Number(t.camera[t.camera.length-1]).valueOf():t.active-e.active}))},onlyOnlineWebcams:function(){return this.webcams.filter((function(e){return e.active}))}}},c=o,l=(a("cb45"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"806b2fa8",null);t["default"]=u.exports},cb45:function(e,t,a){"use strict";var n=a("2184"),i=a.n(n);i.a}}]);
//# sourceMappingURL=chunk-1d5dbd58.f85e8e4c.js.map