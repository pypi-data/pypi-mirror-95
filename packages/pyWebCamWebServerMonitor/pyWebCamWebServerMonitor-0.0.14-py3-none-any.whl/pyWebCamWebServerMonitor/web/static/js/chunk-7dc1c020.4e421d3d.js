(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7dc1c020"],{1276:function(e,t,i){"use strict";var n=i("d784"),a=i("44e7"),r=i("825a"),s=i("1d80"),c=i("4840"),o=i("8aa5"),l=i("50c4"),u=i("14c3"),d=i("9263"),f=i("d039"),h=[].push,g=Math.min,v=4294967295,p=!f((function(){return!RegExp(v,"y")}));n("split",2,(function(e,t,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var n=String(s(this)),r=void 0===i?v:i>>>0;if(0===r)return[];if(void 0===e)return[n];if(!a(e))return t.call(n,e,r);var c,o,l,u=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,p=new RegExp(e.source,f+"g");while(c=d.call(p,n)){if(o=p.lastIndex,o>g&&(u.push(n.slice(g,c.index)),c.length>1&&c.index<n.length&&h.apply(u,c.slice(1)),l=c[0].length,g=o,u.length>=r))break;p.lastIndex===c.index&&p.lastIndex++}return g===n.length?!l&&p.test("")||u.push(""):u.push(n.slice(g)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var a=s(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,a,i):n.call(String(a),t,i)},function(e,a){var s=i(n,e,this,a,n!==t);if(s.done)return s.value;var d=r(e),f=String(this),h=c(d,RegExp),m=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(p?"y":"g"),w=new h(p?d:"^(?:"+d.source+")",b),x=void 0===a?v:a>>>0;if(0===x)return[];if(0===f.length)return null===u(w,f)?[f]:[];var S=0,k=0,y=[];while(k<f.length){w.lastIndex=p?k:0;var I,R=u(w,p?f:f.slice(k));if(null===R||(I=g(l(w.lastIndex+(p?0:k)),f.length))===S)k=o(f,k,m);else{if(y.push(f.slice(S,k)),y.length===x)return y;for(var O=1;O<=R.length-1;O++)if(y.push(R[O]),y.length===x)return y;k=S=I}}return y.push(f.slice(S)),y}]}),!p)},"44e7":function(e,t,i){var n=i("861d"),a=i("c6b6"),r=i("b622"),s=r("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==a(e))}},"4de4":function(e,t,i){"use strict";var n=i("23e7"),a=i("b727").filter,r=i("1dde"),s=i("ae40"),c=r("filter"),o=s("filter");n({target:"Array",proto:!0,forced:!c||!o},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"7e5c":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"section main-section"},[i("div",{staticClass:"container box",staticStyle:{width:"100%"}},[e.webcams.length?i("div",[e.recordingOn?i("div",[i("b-notification",{staticClass:"not-box",attrs:{type:"is-dark",closable:!1}},[i("div",{staticClass:"not-txt"},[e._v(" Webcam busy. Check "),i("b",[e._v("Record")]),e._v(" tab "),i("div",{staticClass:"dot-flashing",staticStyle:{display:"inline-block","margin-left":"2rem"}}),i("p",[i("small",[e._v("You can view live recording in the video files by enabiling streaming, not recomanded on slow hardware.")])])])])],1):i("div",[i("h2",{staticClass:"subtitle"},[e._v(" Live Video ")]),i("b-button",{attrs:{type:"is-warning",loading:e.loading_start},on:{click:function(t){return e.handleStartVideo()}}},[i("b-icon",{attrs:{icon:"checkbox-blank-circle",size:"is-small",type:"is-success"}}),e._v(" Start ")],1),i("b-button",{staticStyle:{"margin-left":"1rem"},attrs:{type:"is-warning",loading:e.loading_stop},on:{click:function(t){return e.handleStopVideo()}}},[i("b-icon",{attrs:{icon:"checkbox-blank-circle",size:"is-small",type:"is-danger"}}),e._v(" Stop ")],1)],1)]):i("div",[e._v(" "+e._s(e.noWebcamsMsg)+" ")]),e.liveOn?i("div",[i("figure",{staticClass:"image is-5by4"},[i("img",{ref:"liveImg",style:e.imgStyle,attrs:{src:e.imgSrc}})]),i("div",{staticClass:"box",staticStyle:{"margin-top":"2rem"}},[i("div",{staticClass:"field"},[i("b-switch",{attrs:{"passive-type":"is-dark",type:"is-warning"},on:{input:e.switchImgModeChanged},model:{value:e.viewModeActualSize,callback:function(t){e.viewModeActualSize=t},expression:"viewModeActualSize"}},[e._v(" "+e._s(e.viewModeActualSize?"Actual Web Cam Size Mode":"Responsive Size Mode")+" ")])],1),e.viewModeActualSize?i("div",[i("p",[e._v(" Image was set cu current size of webcam : "+e._s(e.defaultCamSize)+" ")])]):i("div",[i("b-field",{attrs:{label:"Image Size"}},[i("b-slider",{attrs:{min:30,max:100},on:{change:e.imgSliderHasChanged},model:{value:e.sliderValue,callback:function(t){e.sliderValue=t},expression:"sliderValue"}})],1)],1),i("div",{staticClass:"buttons"},[i("b-button",{staticStyle:{"margin-left":"auto","margin-right":"auto"},on:{click:e.imgTofullScreen}},[i("b-icon",{attrs:{icon:"fullscreen",size:"is-small",type:"is-dark"}}),e._v(" Scale to full screen")],1)],1)])]):e._e()])])},a=[],r=(i("99af"),i("4de4"),i("a9e3"),i("ac1f"),i("1276"),i("53ca")),s=(i("96cf"),i("1da1")),c={name:"ViewLive",data:function(){return{error:!1,loading_start:!1,loading_stop:!1,errorMsg:"",liveOn:!1,apiInUse:!1,recordingOn:!1,checkRecOnInt:void 0,imgSrc:this.$axios.defaults.baseURL+this.$axios.defaults.apiEndpoints["live-video-feed"]+"?ts="+(new Date).getTime()+"&t="+this.$store.state.token,viewModeActualSize:!1,webcams:[],defaultCamSize:"",imgStyle:"",sliderValue:100}},props:{msg:String},created:function(){var e=this;this.noWebcamsMsg="No webcams detected please conect one and recheck.";var t=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get(e.$axios.defaults.apiEndpoints["record-status"]);case 2:return i=t.sent,e.recordingOn=i.data.recording,e.recordingOn||void 0===Object(r["a"])(e.checkRecOnInt)||clearInterval(e.checkRecOnInt),t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().then((function(){e.recordingOn&&(e.checkRecOnInt=setInterval(t,175))})),this.$axios.get(this.$axios.defaults.apiEndpoints["get-def-cam-size"]).then((function(t){e.defaultCamSize=t.data.defCamSize})),this.$axios.get(this.$axios.defaults.apiEndpoints["check-webcams"]).then((function(t){e.webcams=t.data})).catch((function(){e.webcams=[]}))},beforeDestroy:function(){"undefined"!==typeof this.checkRecOnInt&&clearInterval(this.checkRecOnInt),this.liveOn&&this.handleStopVideo()},methods:{handleStartVideo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.apiInUse){t.next=2;break}return t.abrupt("return");case 2:return e.loading_start=!0,e.apiInUse=!0,t.prev=4,t.next=7,e.$axios.get(e.$axios.defaults.apiEndpoints["live-video-start"]);case 7:e.imgSrc=e.$axios.defaults.baseURL+e.$axios.defaults.apiEndpoints["live-video-feed"]+"?ts="+(new Date).getTime()+"&t="+e.$store.state.token,e.loading_start=!1,e.liveOn=!0,e.apiInUse=!1,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](4),e.loading_start=!1,e.apiInUse=!1;case 17:case"end":return t.stop()}}),t,null,[[4,13]])})))()},imgSliderHasChanged:function(e){this.imgStyle="width: ".concat(e,"%;height: ").concat(e,"%;margin:auto;")},switchImgModeChanged:function(e){if(e){var t=this.defaultCamSize.split("x");this.imgStyle="width: ".concat(Number(t[0]).valueOf(),"px;height: ").concat(Number(t[1]).valueOf(),"px;margin:auto;")}else this.imgStyle="width: ".concat(this.sliderValue,"%;height: ").concat(this.sliderValue,"%;margin:auto;")},handleStopVideo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.apiInUse){t.next=2;break}return t.abrupt("return");case 2:return e.loading_stop=!0,e.apiInUse=!0,t.prev=4,t.next=7,e.$axios.get(e.$axios.defaults.apiEndpoints["live-video-stop"]);case 7:e.loading_stop=!1,e.liveOn=!1,e.apiInUse=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](4),e.loading_stop=!1,e.apiInUse=!1;case 16:case"end":return t.stop()}}),t,null,[[4,12]])})))()},imgTofullScreen:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=e.$refs.liveImg,i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen();case 2:case"end":return t.stop()}}),t)})))()}},computed:{onlineWebCamsFirst:function(){var e=this.webcams;return e.sort((function(e,t){return e.active===t.active?Number(e.camera[e.camera.length-1]).valueOf()-Number(t.camera[t.camera.length-1]).valueOf():t.active-e.active}))},onlyOnlineWebcams:function(){return this.webcams.filter((function(e){return e.active}))}}},o=c,l=(i("f4db"),i("2877")),u=Object(l["a"])(o,n,a,!1,null,"1c59be6b",null);t["default"]=u.exports},8418:function(e,t,i){"use strict";var n=i("c04e"),a=i("9bf2"),r=i("5c6c");e.exports=function(e,t,i){var s=n(t);s in e?a.f(e,s,r(0,i)):e[s]=i}},"99af":function(e,t,i){"use strict";var n=i("23e7"),a=i("d039"),r=i("e8b5"),s=i("861d"),c=i("7b0b"),o=i("50c4"),l=i("8418"),u=i("65f0"),d=i("1dde"),f=i("b622"),h=i("2d00"),g=f("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",m=h>=51||!a((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),b=d("concat"),w=function(e){if(!s(e))return!1;var t=e[g];return void 0!==t?!!t:r(e)},x=!m||!b;n({target:"Array",proto:!0,forced:x},{concat:function(e){var t,i,n,a,r,s=c(this),d=u(s,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(r=-1===t?s:arguments[t],w(r)){if(a=o(r.length),f+a>v)throw TypeError(p);for(i=0;i<a;i++,f++)i in r&&l(d,f,r[i])}else{if(f>=v)throw TypeError(p);l(d,f++,r)}return d.length=f,d}})},f4db:function(e,t,i){"use strict";var n=i("fea3"),a=i.n(n);a.a},fea3:function(e,t,i){}}]);
//# sourceMappingURL=chunk-7dc1c020.4e421d3d.js.map