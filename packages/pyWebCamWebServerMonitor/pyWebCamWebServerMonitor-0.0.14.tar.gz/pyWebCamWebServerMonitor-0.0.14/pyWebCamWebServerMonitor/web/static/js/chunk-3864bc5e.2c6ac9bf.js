(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3864bc5e"],{2532:function(t,e,n){"use strict";var r=n("23e7"),a=n("5a34"),s=n("1d80"),i=n("ab13");r({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(s(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,n){"use strict";var r=n("6eeb"),a=n("825a"),s=n("d039"),i=n("ad6d"),o="toString",c=RegExp.prototype,d=c[o],u=s((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),l=d.name!=o;(u||l)&&r(RegExp.prototype,o,(function(){var t=a(this),e=String(t.source),n=t.flags,r=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?i.call(t):n);return"/"+e+"/"+r}),{unsafe:!0})},"2bda":function(t,e,n){},"44e7":function(t,e,n){var r=n("861d"),a=n("c6b6"),s=n("b622"),i=s("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==a(t))}},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5aca":function(t,e,n){"use strict";var r=n("2bda"),a=n.n(r);a.a},"7a9e":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section main-section"},[n("div",{staticClass:"container box"},[n("h1",{staticClass:"title"},[t._v("Login")]),n("form",[n("b-field",{staticClass:"has-text-left",attrs:{label:"Username"}},[n("b-input",{attrs:{placeholder:"username",rounded:"",size:"is-medium",icon:"account",disabled:t.loading},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit()}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),n("b-field",{staticClass:"has-text-left",attrs:{label:"Password"}},[n("b-input",{attrs:{placeholder:"password",rounded:"",size:"is-medium",icon:"form-textbox-password",type:"password",disabled:t.loading},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("div",{staticClass:"has-text-centered"},[n("b-button",{attrs:{type:"is-link",size:"is-medium","icon-left":"login-variant",loading:t.loading},on:{click:function(e){return t.handleSubmit()}}},[t._v(" Login ")])],1)],1),t.error?n("b-notification",{staticClass:"not-box",staticStyle:{"margin-top":"3rem"},attrs:{type:"is-warning","has-icon":"","aria-close-label":"Close notification",role:"alert",active:t.notIsActive},on:{"update:active":function(e){t.notIsActive=e}}},[n("b",{staticClass:"not-txt"},[t._v(t._s(t.errorMsg))])]):t._e()],1),n("p",{staticStyle:{margin:"0.6rem"}},[t.isPasswordAdmin?n("small",[t._v("Login info is now "),n("b",[t._v("admin:admin")]),t._v(", you should change the password after login")]):t._e()]),t._m(0)])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticStyle:{margin:"0.6rem"}},[n("small",[t._v("In case you forgot the password run the command "),n("b",[t._v("pyWebCamMonitorCtl reset-admin-password")])])])}],s=(n("caad"),n("d3b7"),n("25f0"),n("2532"),{name:"LoginPage",data:function(){return{username:"",password:"",isPasswordAdmin:!1,error:!1,loading:!1,errorMsg:"",notIsActive:!1}},props:{msg:String},created:function(){var t=this;this.$axios.get(this.$axios.defaults.apiEndpoints["user-is-password-admin"]).then((function(e){e.data.isPassAdmin&&(t.isPasswordAdmin=!0)}))},methods:{handleSubmit:function(){var t=this;if(this.loading=!0,this.notIsActive=!0,0===this.username.length||0===this.password.length)return this.error=!0,this.errorMsg="Username and password are required!",void(this.loading=!1);this.$axios.defaults.auth={username:this.username,password:this.password},this.$axios.post("/api/login",{withCredentials:!0,timeout:7e3,headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){var n=e.data;t.$store.commit("set_token",n),t.loading=!1,t.$router.push("/")})).catch((function(e){t.error=!0,e.toString().includes("Network Error")?t.errorMsg="Network Error: can't connect to flask!":t.errorMsg="Invalid username or password!",408!==e.response.status&&"ECONNABORTED"!==e.code||(t.errorMsg="Connection to flask server was aborted due to timeout limit!"),t.loading=!1}))}}}),i=s,o=(n("5aca"),n("2877")),c=Object(o["a"])(i,r,a,!1,null,"ff3887fc",null);e["default"]=c.exports},ab13:function(t,e,n){var r=n("b622"),a=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,"/./"[t](e)}catch(r){}}return!1}},ae40:function(t,e,n){var r=n("83ab"),a=n("d039"),s=n("5135"),i=Object.defineProperty,o={},c=function(t){throw t};t.exports=function(t,e){if(s(o,t))return o[t];e||(e={});var n=[][t],d=!!s(e,"ACCESSORS")&&e.ACCESSORS,u=s(e,0)?e[0]:c,l=s(e,1)?e[1]:void 0;return o[t]=!!n&&!a((function(){if(d&&!r)return!0;var t={length:-1};d?i(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,u,l)}))}},caad:function(t,e,n){"use strict";var r=n("23e7"),a=n("4d64").includes,s=n("44d2"),i=n("ae40"),o=i("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!o},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")}}]);
//# sourceMappingURL=chunk-3864bc5e.2c6ac9bf.js.map