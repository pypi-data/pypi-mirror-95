(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4daa49e2"],{1276:function(e,t,n){"use strict";var i=n("d784"),a=n("44e7"),r=n("825a"),s=n("1d80"),o=n("4840"),c=n("8aa5"),l=n("50c4"),d=n("14c3"),u=n("9263"),g=n("d039"),p=[].push,m=Math.min,f=4294967295,h=!g((function(){return!RegExp(f,"y")}));i("split",2,(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(s(this)),r=void 0===n?f:n>>>0;if(0===r)return[];if(void 0===e)return[i];if(!a(e))return t.call(i,e,r);var o,c,l,d=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,h=new RegExp(e.source,g+"g");while(o=u.call(h,i)){if(c=h.lastIndex,c>m&&(d.push(i.slice(m,o.index)),o.length>1&&o.index<i.length&&p.apply(d,o.slice(1)),l=o[0].length,m=c,d.length>=r))break;h.lastIndex===o.index&&h.lastIndex++}return m===i.length?!l&&h.test("")||d.push(""):d.push(i.slice(m)),d.length>r?d.slice(0,r):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var a=s(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,a,n):i.call(String(a),t,n)},function(e,a){var s=n(i,e,this,a,i!==t);if(s.done)return s.value;var u=r(e),g=String(this),p=o(u,RegExp),b=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),x=new p(h?u:"^(?:"+u.source+")",v),w=void 0===a?f:a>>>0;if(0===w)return[];if(0===g.length)return null===d(x,g)?[g]:[];var R=0,S=0,E=[];while(S<g.length){x.lastIndex=h?S:0;var k,y=d(x,h?g:g.slice(S));if(null===y||(k=m(l(x.lastIndex+(h?0:S)),g.length))===R)S=c(g,S,b);else{if(E.push(g.slice(R,S)),E.length===w)return E;for(var $=1;$<=y.length-1;$++)if(E.push(y[$]),E.length===w)return E;S=R=k}}return E.push(g.slice(R)),E}]}),!h)},"210d":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section main-section"},[e.isWebCamLive?n("div",[n("b-notification",{staticClass:"not-box",attrs:{type:"is-dark",closable:!1}},[n("div",{staticClass:"not-txt"},[e._v(" Webcam busy from "),n("b",[e._v("View Live")]),e._v(" tab wait a bit for release "),n("div",{staticClass:"dot-flashing",staticStyle:{display:"inline-block","margin-left":"2rem"}}),n("p",[n("small",[e._v("You can view live recording in the video files by enabiling streaming, not recomanded on slow hardware.")])])])])],1):n("div",[e.webcams.length?n("div",[n("div",{staticClass:"container box"},[n("h2",{staticClass:"subtitle"},[e._v(" Global Recording Options")]),n("b-field",{staticStyle:{"justify-content":"center"},attrs:{grouped:"","group-multiline":""}},[n("div",{staticClass:"control"},[n("b-switch",{attrs:{loading:e.isEncodingLoading,disabled:e.isEncodingLoading},on:{input:e.changeEncoding},model:{value:e.isEncoding,callback:function(t){e.isEncoding=t},expression:"isEncoding"}},[e._v("Encoding")])],1),n("div",{staticClass:"control"},[n("b-switch",{attrs:{loading:e.isGenNameLoading,disabled:e.isGenNameLoading},on:{input:e.changeNaming},model:{value:e.isGenName,callback:function(t){e.isGenName=t},expression:"isGenName"}},[e._v("Auto VIDEO Naming")])],1),n("b-tooltip",{attrs:{type:"is-info",label:"Available only when encoding is on.",always:"",active:!e.isEncoding,position:"is-bottom",size:"is-small",multilined:""}},[n("div",{staticClass:"control"},[n("b-switch",{attrs:{loading:e.isStreamLoading,disabled:e.isStreamLoading||!e.isEncoding},on:{input:e.changeisStream},model:{value:e.isStream,callback:function(t){e.isStream=t},expression:"isStream"}},[e._v("Stream video while recording")])],1)])],1),n("b-field",{staticStyle:{"max-width":"20rem","margin-left":"auto","margin-right":"auto","margin-top":"4rem","margin-bottom":"3rem"},attrs:{label:"Frame Rate"}},[n("b-numberinput",{attrs:{loading:e.isFrameRateLoading,disabled:e.isFrameRateLoading,placeholder:"Frame Rate",min:"5",step:"1"},on:{input:e.changeFrameRate},model:{value:e.isFrameRate,callback:function(t){e.isFrameRate=t},expression:"isFrameRate"}})],1)],1),n("div",{staticClass:"container box"},[n("h2",{staticClass:"subtitle"},[e._v(" Continuous Recording ")]),n("transition",{attrs:{name:"fade"}},[e.isGenName?e._e():n("b-field",{attrs:{label:"Video Name ( no _ and invalid *nix fileNames characters)"}},[n("b-input",{attrs:{disabled:e.recordingOn},model:{value:e.inputVidName,callback:function(t){e.inputVidName=t},expression:"inputVidName"}})],1)],1),n("b-button",{attrs:{type:"is-warning",loading:e.loading_start,disabled:e.recordingOn},on:{click:function(t){return e.handleStartContRecord()}}},[n("b-icon",{attrs:{icon:"checkbox-blank-circle",size:"is-small",type:"is-success"}}),e._v(" Start Recording ")],1),n("b-button",{staticStyle:{"margin-left":"1rem"},attrs:{type:"is-warning",loading:e.loading_stop,disabled:!e.recordingOn},on:{click:function(t){return e.handleStopContRecord()}}},[n("b-icon",{attrs:{icon:"checkbox-blank-circle",size:"is-small",type:"is-danger"}}),e._v(" Stop Recording ")],1)],1),e.recordingOn?n("div",[n("b-notification",{staticClass:"not-box",attrs:{type:e.loading_stop?"is-dark":"is-info","has-icon":"",closable:!1}},[n("div",{staticClass:"not-txt"},[e._v(" "+e._s(e.contNotRecMsg)+" "),n("div",{staticClass:"dot-flashing",staticStyle:{display:"inline-block","margin-left":"2rem"}})])])],1):e._e()]):n("div",[e._v(" "+e._s(e.noWebcamsMsg)+" ")])])])},a=[],r=(n("4de4"),n("b0c0"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("53ca")),s=(n("96cf"),n("1da1")),o={name:"RecordVideo",data:function(){return{isGenName:!0,isGenNameLoading:!1,isEncoding:!0,isEncodingLoading:!1,isStream:!1,isStreamLoading:!1,isFrameRate:10,isFrameRateLoading:!1,contNotRecMsg:"",isWebCamLive:!1,checkWebCamLiveIntval:void 0,storeSubStop:void 0,inputVidName:"",error:!1,loading_start:!1,loading_stop:!1,errorMsg:"",recordingOn:!1,apiInUse:!1,imgSrc:this.$axios.defaults.baseURL+this.$axios.defaults.apiEndpoints["live-video-feed"]+"?t="+(new Date).getTime(),webcams:[]}},props:{msg:String},created:function(){var e=this;n.e("chunk-2d0b68d8").then(n.bind(null,"1e3a")).then((function(t){e.toastHelper=t})),this.loading_stop=this.$store.state.isStopRecording,this.loading_stop?(this.contNotRecMsg="Waiting for WebCam release.",this.storeSubStop=this.$store.subscribe((function(t){"set_stopRecording"===t.type&&!1===e.$store.state.isStopRecording&&(e.loading_stop=!1,e.recordingOn=!1,e.storeSubStop())}))):this.contNotRecMsg="WebCam is now recording.",this.noWebcamsMsg="No webcams detected please conect one and recheck.",this.$axios.get(this.$axios.defaults.apiEndpoints["live-video-check"]).then((function(t){e.isWebCamLive=t.data.live})),this.$axios.get(this.$axios.defaults.apiEndpoints["record-get-options"]).then((function(t){e.isGenName=Boolean(t.data.autoNaming).valueOf(),e.isEncoding=Boolean(t.data.encoding).valueOf(),e.isStream=Boolean(t.data.stream).valueOf(),e.isFrameRate=Number(t.data.frameRate).valueOf(),e.$axios.get(e.$axios.defaults.apiEndpoints["record-status"]).then((function(t){e.recordingOn=t.data.recording,e.recordingOn&&!e.isGenName&&e.$axios.get(e.$axios.defaults.apiEndpoints["get-last-video-name"]).then((function(t){t.data.error||(e.inputVidName=t.data.name.split("_")[1].split("_")[0])}))}))}));var t=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get(e.$axios.defaults.apiEndpoints["live-video-check"]);case 2:return n=t.sent,e.isWebCamLive=n.data.live,e.isWebCamLive||void 0===Object(r["a"])(e.checkWebCamLiveIntval)||clearInterval(e.checkWebCamLiveIntval),t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().then((function(){e.isWebCamLive&&(e.checkWebCamLiveIntval=setInterval(t,130))})),this.$axios.get(this.$axios.defaults.apiEndpoints["check-webcams"]).then((function(t){e.webcams=t.data})).catch((function(){e.webcams=[]}))},beforeDestroy:function(){"undefined"!==typeof this.checkWebCamLiveIntval&&clearInterval(this.checkWebCamLiveIntval),"function"==typeof this.storeSubStop&&this.storeSubStop()},methods:{handleStartContRecord:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.apiInUse){t.next=2;break}return t.abrupt("return");case 2:return e.loading_start=!0,e.apiInUse=!0,t.prev=4,n={},e.isGenName||(n={params:{vidName:e.inputVidName}}),t.next=9,e.$axios.get(e.$axios.defaults.apiEndpoints["record-video"],n);case 9:i=t.sent,i.data.error?e.toastHelper.showToastError(i.data.msg,e.$buefy):e.recordingOn=!0,e.loading_start=!1,e.apiInUse=!1,t.next=20;break;case 15:t.prev=15,t.t0=t["catch"](4),e.toastHelper.showToastError(t.t0.toString(),e.$buefy),e.loading_start=!1,e.apiInUse=!1;case 20:case"end":return t.stop()}}),t,null,[[4,15]])})))()},handleStopContRecord:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.apiInUse){t.next=2;break}return t.abrupt("return");case 2:return e.loading_stop=!0,t.next=5,e.$store.commit("set_stopRecording",e.loading_stop);case 5:return e.apiInUse=!0,t.prev=6,t.next=9,e.$axios.get(e.$axios.defaults.apiEndpoints["record-video-stop"],{timeout:3e4});case 9:return e.loading_stop=!1,t.next=12,e.$store.commit("set_stopRecording",e.loading_stop);case 12:e.recordingOn=!1,e.apiInUse=!1,t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](6),e.loading_stop=!1,e.apiInUse=!1;case 20:case"end":return t.stop()}}),t,null,[[6,16]])})))()},changeEncoding:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.isEncodingLoading=!0,t.$axios.post(t.$axios.defaults.apiEndpoints["record-set-encoding"],{encoding:e}).then(function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i.data.error){n.next=7;break}if(t.isEncoding=e,t.isEncoding){n.next=5;break}return n.next=5,t.changeisStream(!1);case 5:n.next=8;break;case 7:t.toastHelper.showToastError(i.data.msg,t.$buefy);case 8:t.isEncodingLoading=!1;case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){t.toastHelper.showToastError(e.toString(),t.$buefy),t.isEncodingLoading=!1}));case 2:case"end":return n.stop()}}),n)})))()},changeNaming:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.isGenNameLoading=!0,t.$axios.post(t.$axios.defaults.apiEndpoints["record-set-naming"],{naming:e}).then((function(n){n.data.error?t.toastHelper.showToastError(n.data.msg,t.$buefy):t.isGenName=e,t.isGenNameLoading=!1})).catch((function(e){t.toastHelper.showToastError(e.toString(),t.$buefy),t.isGenNameLoading=!1}));case 2:case"end":return n.stop()}}),n)})))()},changeisStream:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.isStreamLoading=!0,t.$axios.post(t.$axios.defaults.apiEndpoints["record-set-is-stream"],{isStream:e}).then((function(n){n.data.error?t.toastHelper.showToastError(n.data.msg,t.$buefy):t.isStream=e,t.isStreamLoading=!1})).catch((function(e){t.toastHelper.showToastError(e.toString(),t.$buefy),t.isStreamLoading=!1}));case 2:case"end":return n.stop()}}),n)})))()},changeFrameRate:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.isFrameRateLoading=!0,t.$axios.post(t.$axios.defaults.apiEndpoints["record-set-framerate"],{framerate:Number(e).valueOf()}).then((function(n){n.data.error?t.toastHelper.showToastError(n.data.msg,t.$buefy):t.isFrameRate=Number(e).valueOf(),t.isFrameRateLoading=!1})).catch((function(e){t.toastHelper.showToastError(e.toString(),t.$buefy),t.isFrameRateLoading=!1}));case 2:case"end":return n.stop()}}),n)})))()}},computed:{onlineWebCamsFirst:function(){var e=this.webcams;return e.sort((function(e,t){return e.active===t.active?Number(e.camera[e.camera.length-1]).valueOf()-Number(t.camera[t.camera.length-1]).valueOf():t.active-e.active}))},onlyOnlineWebcams:function(){return this.webcams.filter((function(e){return e.active}))}}},c=o,l=(n("55e6"),n("2877")),d=Object(l["a"])(c,i,a,!1,null,"08857a13",null);t["default"]=d.exports},"25f0":function(e,t,n){"use strict";var i=n("6eeb"),a=n("825a"),r=n("d039"),s=n("ad6d"),o="toString",c=RegExp.prototype,l=c[o],d=r((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),u=l.name!=o;(d||u)&&i(RegExp.prototype,o,(function(){var e=a(this),t=String(e.source),n=e.flags,i=String(void 0===n&&e instanceof RegExp&&!("flags"in c)?s.call(e):n);return"/"+t+"/"+i}),{unsafe:!0})},"44e7":function(e,t,n){var i=n("861d"),a=n("c6b6"),r=n("b622"),s=r("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==a(e))}},"4de4":function(e,t,n){"use strict";var i=n("23e7"),a=n("b727").filter,r=n("1dde"),s=n("ae40"),o=r("filter"),c=s("filter");i({target:"Array",proto:!0,forced:!o||!c},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"55e6":function(e,t,n){"use strict";var i=n("90e9"),a=n.n(i);a.a},"90e9":function(e,t,n){},b0c0:function(e,t,n){var i=n("83ab"),a=n("9bf2").f,r=Function.prototype,s=r.toString,o=/^\s*function ([^ (]*)/,c="name";i&&!(c in r)&&a(r,c,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-4daa49e2.a2da27ce.js.map