

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Syntax guide &mdash; turberfield-dialogue 0.30.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/turberfield.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Example 2: Cloak of Darkness" href="cloak.html" />
    <link rel="prev" title="Example 1: Battle Royal" href="battle.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> turberfield-dialogue
          

          
          </a>

          
            
            
              <div class="version">
                0.30.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="battle.html">Example 1: Battle Royal</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Syntax guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#naming-convention">Naming convention</a></li>
<li class="toctree-l2"><a class="reference internal" href="#structure">Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#elements">Elements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#entity-declaration">Entity declaration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#property-directive">Property directive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fx-directive">FX directive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#condition-directive">Condition directive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memory-directive">Memory directive</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cloak.html">Example 2: Cloak of Darkness</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">CLI Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="publishing.html">Publishing</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing.html">Performing</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Change Log</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">turberfield-dialogue</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Syntax guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/syntax.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="syntax-guide">
<span id="syntax"></span><h1>Syntax guide<a class="headerlink" href="#syntax-guide" title="Permalink to this headline">¶</a></h1>
<p>A Turberfield scene script file represents a sequence of dramatic action.
A single file contains one or more scenes, each of which is composed of
separate shots. A shot can contain dialogue, audio effects and other directives.</p>
<p>A Scene script adopts the <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html">reStructuredText</a> syntax. By using a defined subset
of that syntax, along with custom extensions, Turberfield defines a format which
visually resembles a traditional screenplay, yet which conforms to a formal data model.</p>
<p>A key feature of the format is that it allows roles to be cast dynamically, such
that objects must match the declared criteria for a role. It is nonetheless possible
for dialogue to refer to personal attributes such as names, using a mechanism of
<a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html#substitution-references-and-definitions">substitution references</a>.</p>
<div class="section" id="naming-convention">
<h2>Naming convention<a class="headerlink" href="#naming-convention" title="Permalink to this headline">¶</a></h2>
<p>The file name should contain lower case characters only. It should contain no whitespace
or punctuation characters. Underscores should be used to represent spaces.</p>
<p>The file must have a suffix of <strong>.rst</strong>. If you’d like to distinguish between dialogue
text and regular reStructuredText, then give your scene script file a <strong>.dlg.rst</strong> suffix.</p>
</div>
<div class="section" id="structure">
<h2>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>The file should begin with a <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#comments">comment</a> identifying it as a Turberfield
scene script.</p></li>
<li><p>The file should contain metadata identifying the author(s) in a
<a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html#field-lists">field list</a>. The following fields are recommended:</p>
<ul class="simple">
<li><p>author</p></li>
<li><p>date</p></li>
<li><p>copyright</p></li>
</ul>
</li>
<li><p>The file must contain at least one <a class="reference internal" href="#entity-declaration">entity declaration</a> before any
scene is defined.</p></li>
<li><p>The file must contain at least one <strong>scene</strong> section which is created by a
top-level <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html#section-structure">heading</a>.</p></li>
<li><p>Each scene  must contain at least one <strong>shot</strong> section which is created by a
second-level <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html#section-structure">heading</a>.</p></li>
<li><p>Dialogue is defined by a <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html#citations">citation</a> in a shot section.
The name given in the citation must match an entity declaration.
Dialogue may contain <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html#inline-markup">inline markup</a> and <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html#substitution-references-and-definitions">substitution references</a>.</p></li>
<li><dl class="simple">
<dt>Shot sections may also contain one or more of these elements:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#property-directive">Property directive</a></p></li>
<li><p><a class="reference internal" href="#fx-directive">FX directive</a></p></li>
<li><p><a class="reference internal" href="#condition-directive">Condition directive</a></p></li>
<li><p><a class="reference internal" href="#memory-directive">Memory directive</a></p></li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="elements">
<h2>Elements<a class="headerlink" href="#elements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="entity-declaration">
<h3>Entity declaration<a class="headerlink" href="#entity-declaration" title="Permalink to this headline">¶</a></h3>
<dl class="rst directive">
<dt id="directive-entity">
<code class="sig-name descname">.. entity::</code><code class="sig-prename descclassname"> NAME</code><a class="headerlink" href="#directive-entity" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of an entity should be in upper case.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">:roles:</span></code></dt><dd><p>A whitespace separated sequence of other entities.
A match for this entity will be considered for those roles.
Optional.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">:states:</span></code></dt><dd><p>A whitespace separated sequence of dotted paths.
Each path must resolve to a Python Enum class member.
In addition, a single integer value is also allowed.</p>
<dl class="simple">
<dt>The resolution rules allow for hierarchical states, eg:</dt><dd><ul class="simple">
<li><p><cite>3</cite> matches integer states <cite>301</cite>, <cite>38</cite> and <cite>3</cite>.</p></li>
<li><p><cite>Location.pub</cite> matches <cite>Location.pub</cite> and <cite>Location.pub_carpark</cite>.</p></li>
</ul>
</dd>
</dl>
<p>A candidate for this entity must match <em>all</em> these state criteria.
Optional.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">:types:</span></code></dt><dd><p>A whitespace separated sequence of dotted paths.
Each path must resolve to a Python type.
A candidate for this entity must be an instance of <em>at least one</em>
of these types. Optional.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="property-directive">
<h3>Property directive<a class="headerlink" href="#property-directive" title="Permalink to this headline">¶</a></h3>
<dl class="rst directive">
<dt id="directive-property">
<code class="sig-name descname">.. property::</code><code class="sig-prename descclassname"> ATTRIBUTE [VALUE]</code><a class="headerlink" href="#directive-property" title="Permalink to this definition">¶</a></dt>
<dd><p>This directive takes no other options.</p>
<p>The property directive acts in two modes.</p>
<blockquote>
<div><ul class="simple">
<li><p>With a single argument it is a <cite>getter</cite>; it returns the attribute value.
This is the mode to use when defining a substitution reference.</p></li>
<li><p>With two arguments it is a <cite>setter</cite>; it sets the attribute value.
This allows you to modify entities during the delivery of dialogue.</p></li>
</ul>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="fx-directive">
<h3>FX directive<a class="headerlink" href="#fx-directive" title="Permalink to this headline">¶</a></h3>
<dl class="rst directive">
<dt id="directive-fx">
<code class="sig-name descname">.. fx::</code><code class="sig-prename descclassname"> PACKAGE RESOURCE</code><a class="headerlink" href="#directive-fx" title="Permalink to this definition">¶</a></dt>
<dd><p>The FX (effects) directive calls up a visual cue or a sound effect.
The first argument is the dotted name of the package which contains the asset file.
The second argument is the path of the file relative to the package location.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">:duration:</span></code></dt><dd><p>Sets the duration (audio playback, display of still image).
This value is in milliseconds. Optional.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">:loop:</span></code></dt><dd><p>The number of times to play the audio or display a still image.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">:offset:</span></code></dt><dd><p>Sets the point in an audio file at which playback begins.
This value is in milliseconds.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">:label:</span></code></dt><dd><p>A text label for the resource. May contain substitution references.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="condition-directive">
<h3>Condition directive<a class="headerlink" href="#condition-directive" title="Permalink to this headline">¶</a></h3>
<dl class="rst directive">
<dt id="directive-condition">
<code class="sig-name descname">.. condition::</code><code class="sig-prename descclassname"> ATTRIBUTE VALUE</code><a class="headerlink" href="#directive-condition" title="Permalink to this definition">¶</a></dt>
<dd><p>This directive takes no other options.</p>
<p>The condition directive specifies that a comparison be evaluated.</p>
<p>The intended purpose of this directive is to mask off sections of dialogue
which do not satisfy certain criteria.</p>
</dd></dl>

</div>
<div class="section" id="memory-directive">
<span id="memory"></span><h3>Memory directive<a class="headerlink" href="#memory-directive" title="Permalink to this headline">¶</a></h3>
<dl class="rst directive">
<dt id="directive-memory">
<code class="sig-name descname">.. memory::</code><code class="sig-prename descclassname"> STATE</code><a class="headerlink" href="#directive-memory" title="Permalink to this definition">¶</a></dt>
<dd><p>The Memory directive saves a record to the dialogue database. STATE is the dotted
path to a Python Enum class value, or else an integer.</p>
<p>This directive lets you capture relationships between entities and store
them with a timestamp and a note of explanation.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">:subject:</span></code></dt><dd><p>The name of an entity which is primarily associated with STATE. With no <cite>object</cite>
(see below) the interpretation is that the subject is assigned the state. If
object is defined, the relationship between subject, object and state is
application-specific.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">:object:</span></code></dt><dd><p>The name of an entity which is the object of the relationship
<code class="docutils literal notranslate"><span class="pre">(subject,</span> <span class="pre">state,</span> <span class="pre">object)</span></code>. Optional.</p>
</dd>
</dl>
<p>Any paragraphs of inline content to this directive are used as a note which
accompanies the record in the database. Such paragraphs may contain
<a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html#inline-markup">inline markup</a> and <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html#substitution-references-and-definitions">substitution references</a>.</p>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cloak.html" class="btn btn-neutral float-right" title="Example 2: Cloak of Darkness" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="battle.html" class="btn btn-neutral float-left" title="Example 1: Battle Royal" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2017, D Haynes

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>