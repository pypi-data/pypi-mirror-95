(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[13],{1924:function(e,r,t){"use strict";t.d(r,"c",(function(){return o})),t.d(r,"b",(function(){return s})),t.d(r,"a",(function(){return c}));var n=t(2),i=t(62),a=t(89);function o(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(Object(i.h)(r)){case"integer":case"number":return e.toLocaleString();case"percentage":return Object(a.h)(e,2);case"duration":return Object(a.j)(e/1e3,2,!0);default:return e.toString()}}function s(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(Object(i.h)(r)){case"integer":case"number":return t?Object(a.f)(e):e.toLocaleString();case"percentage":return Object(a.h)(e,0);case"duration":return c(e);default:return e.toString()}}function c(e){if(0===e)return"0";if(e>=a.e){var r=(e/a.e).toFixed(0);return Object(n.b)("%swk",r)}if(e>=a.a){var t=(e/a.a).toFixed(0);return Object(n.b)("%sd",t)}if(e>=a.b){var i=(e/a.b).toFixed(0);return Object(n.b)("%shr",i)}if(e>=a.c){var o=(e/a.c).toFixed(0);return Object(n.b)("%smin",o)}if(e>=a.d){var s=(e/a.d).toFixed(0);return Object(n.b)("%ss",s)}var c=(e/a.d).toFixed(1);return Object(n.b)("%ss",c)}},1925:function(e,r,t){"use strict";var n=t(8),i=t.n(n),a=t(29),o=t.n(a),s=t(21),c=t.n(s),u=t(14),l=t.n(u),p=t(30),f=t.n(p),d=t(9),v=t.n(d),b=t(10),h=t.n(b),m=t(11),y=t.n(m),g=t(12),O=t.n(g),j=t(6),D=t.n(j),P=t(1),w=t.n(P),S=t(60),x=t.n(S),k=t(2002),T=t.n(k),R=t(1944),N=t(34),E=t(1948),A=t(221),q=t(2),C=t(0);function z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?z(Object(t),!0).forEach((function(r){i()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Q(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=D()(e);if(r){var i=D()(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return O()(this,t)}}var U=["api","children","organization","loading"],F=function(e){return T()(e,(function(e,r){return U.includes(r)}))},W=function(e){y()(t,e);var r=Q(t);function t(){var e;v()(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=r.call.apply(r,[this].concat(i))).state={reloading:!!e.props.loading,errored:!1,timeseriesData:null,fetchedWithPrevious:!1},e.unmounting=!1,e.fetchData=f()(c.a.mark((function r(){var t,n,i,a,o;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.props,n=t.api,i=t.confirmedQuery,a=l()(t,["api","confirmedQuery"]),o=null,!1!==i){r.next=4;break}return r.abrupt("return");case 4:return e.setState((function(e){return{reloading:null!==e.timeseriesData,errored:!1}})),r.prev=5,n.clear(),r.next=9,Object(R.a)(n,a);case 9:o=r.sent,r.next=16;break;case 12:r.prev=12,r.t0=r.catch(5),r.t0&&r.t0.responseJSON&&r.t0.responseJSON.detail?Object(N.a)(r.t0.responseJSON.detail):Object(N.a)(Object(q.b)("Error loading chart data")),e.setState({errored:!0});case 16:if(!e.unmounting){r.next=18;break}return r.abrupt("return");case 18:e.setState({reloading:!1,timeseriesData:o,fetchedWithPrevious:a.includePrevious});case 19:case"end":return r.stop()}}),r,null,[[5,12]])}))),e.getData=function(r){var t=e.state.fetchedWithPrevious,n=e.props,i=n.period,a=n.includePrevious,o=t||Object(A.d)(a,i),s=Math.floor(r.length/2);return{current:o?r.slice(s):r,previous:o?r.slice(0,s):null}},e}return h()(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){x()(F(e),F(this.props))||this.fetchData()}},{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"calculateTotalsPerTimestamp",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 1e3*e};return e.map((function(e,t){var n=o()(e,2),i=n[0],a=n[1];return{name:r(i,a,t),value:a.reduce((function(e,r){return e+r.count}),0)}}))}},{key:"transformPreviousPeriodData",value:function(e,r){var t;return r?{seriesName:null!==(t=this.props.previousSeriesName)&&void 0!==t?t:"Previous",data:this.calculateTotalsPerTimestamp(r,(function(r,t,n){return 1e3*e[n][0]}))}:null}},{key:"transformAggregatedTimeseries",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{seriesName:r,data:this.calculateTotalsPerTimestamp(e)}}},{key:"transformTimeseriesData",value:function(e,r){return[{seriesName:r||"Current",data:e.map((function(e){var r=o()(e,2);return{name:1e3*r[0],value:r[1].reduce((function(e,r){return e+r.count}),0)}}))}]}},{key:"processData",value:function(e){if(!e)return{};var r=e.data,t=e.totals,n=this.props,i=n.includeTransformedData,a=n.includeTimeAggregation,o=n.timeAggregationSeriesName,s=this.getData(r),c=s.current,u=s.previous;return{data:i?this.transformTimeseriesData(c,this.props.currentSeriesName):[],allData:r,originalData:c,totals:t,originalPreviousData:u,previousData:i?this.transformPreviousPeriodData(c,u):null,timeAggregatedData:a?this.transformAggregatedTimeseries(c,o||""):{}}}},{key:"render",value:function(){var e=this,r=this.props,t=r.children,n=r.showLoading,i=l()(r,["children","showLoading"]),a=this.state,o=a.timeseriesData,s=a.reloading,c=a.errored,u=this.props.loading||null===o;if(n&&u)return Object(C.f)(E.a,{"data-test-id":"events-request-loading"});if(Object(A.h)(o))return t(L({loading:u,reloading:s,errored:c,results:Object.keys(o).map((function(r){var t=o[r],n=e.transformTimeseriesData(t.data,r)[0];return[t.order||0,n]})).sort((function(e,r){return e[0]-r[0]})).map((function(e){return e[1]}))},i));var p=this.processData(o);return t(L({loading:u,reloading:s,errored:c,timeseriesData:p.data,allTimeseriesData:p.allData,originalTimeseriesData:p.originalData,timeseriesTotals:p.totals,originalPreviousTimeseriesData:p.originalPreviousData,previousTimeseriesData:p.previousData,timeAggregatedData:p.timeAggregatedData},i))}}]),t}(w.a.PureComponent);W.displayName="EventsRequest",W.defaultProps={period:void 0,start:null,end:null,interval:"1d",limit:15,query:"",includePrevious:!0,includeTransformedData:!0},r.a=W},1932:function(e,r,t){"use strict";var n=t(5),i=t.n(n),a=t(8),o=t.n(a),s=t(14),c=t.n(s),u=t(9),l=t.n(u),p=t(10),f=t.n(p),d=t(11),v=t.n(d),b=t(12),h=t.n(b),m=t(6),y=t.n(m),g=t(1),O=t.n(g),j=t(2035),D=t(714),P=t(0);function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function S(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=y()(e);if(r){var i=y()(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return h()(this,t)}}var x=function(e){v()(t,e);var r=S(t);function t(){return l()(this,t),r.apply(this,arguments)}return f()(t,[{key:"render",value:function(){var e=this.props,r=e.series,t=e.stacked,n=e.colors,a=c()(e,["series","stacked","colors"]);return Object(P.f)(D.a,i()({},a,{series:r.map((function(e,r){var i=e.seriesName,a=e.data,s=c()(e,["seriesName","data"]);return Object(j.a)(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(Object(t),!0).forEach((function(r){o()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({stack:t?"area":void 0,name:i,data:a.map((function(e){return[e.name,e.value]})),color:n&&n[r],lineStyle:{opacity:1,width:.4},areaStyle:{color:n&&n[r],opacity:1},animation:!1,animationThreshold:1,animationDuration:0},s))}))}))}}]),t}(O.a.Component);x.displayName="AreaChart",r.a=x},1944:function(e,r,t){"use strict";t.d(r,"a",(function(){return y})),t.d(r,"b",(function(){return g})),t.d(r,"c",(function(){return j}));var n=t(21),i=t.n(n),a=t(30),o=t.n(a),s=t(8),c=t.n(s),u=t(29),l=t.n(u),p=t(294),f=t.n(p),d=t(221),v=t(93),b=t(2017);function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){c()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var y=function(e,r){var t=r.organization,n=r.project,i=r.environment,a=r.period,o=r.start,s=r.end,c=r.interval,u=r.includePrevious,p=r.query,f=r.yAxis,v=r.field,h=r.topEvents,y=r.orderby,g=Object(d.d)(u,a),O=Object.fromEntries(Object.entries({interval:c,project:n,environment:i,query:p,yAxis:f,field:v,topEvents:h,orderby:y}).filter((function(e){return void 0!==l()(e,2)[1]}))),j=Object(b.a)({period:a,start:o,end:s},{shouldDoublePeriod:g});return e.requestPromise("/organizations/".concat(t.slug,"/events-stats/"),{query:m(m({},O),j)})};function g(e,r,t){return O.apply(this,arguments)}function O(){return(O=o()(i.a.mark((function e(r,t,n){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f()(n,Object.values(v.e)),o=m(m({},a),{},{query:n.query}),e.abrupt("return",r.requestPromise("/organizations/".concat(t,"/events-facets/"),{query:o}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,r,t){return D.apply(this,arguments)}function D(){return(D=o()(i.a.mark((function e(r,t,n){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f()(n,Object.values(v.e)),o=m(m({},a),{},{query:n.query}),e.abrupt("return",r.requestPromise("/organizations/".concat(t,"/events-meta/"),{query:o}).then((function(e){return e.count})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2002:function(e,r,t){var n=t(241),i=t(2028),a=t(298);e.exports=function(e,r){return a(e,i(n(r)))}},2028:function(e,r){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}},2035:function(e,r,t){"use strict";t.d(r,"a",(function(){return c}));var n=t(8),i=t.n(n),a=t(717);function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){i()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)(s({},e))}},2042:function(e,r,t){"use strict";var n=t(5),i=t.n(n),a=t(24),o=t.n(a),s=t(8),c=t.n(s),u=t(14),l=t.n(u),p=t(9),f=t.n(p),d=t(10),v=t.n(d),b=t(11),h=t.n(b),m=t(12),y=t.n(m),g=t(6),O=t.n(g),j=t(1),D=t.n(j),P=t(60),w=t.n(P),S=t(1932),x=t(710),k=t(1930),T=t(1922),R=t(1926),N=t(1946),E=t(1936),A=t(1927),q=t(221),C=t(15),z=t(2),L=t(1924),Q=t(62),U=t(33),F=t(1925),W=t(0);function J(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function H(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?J(Object(t),!0).forEach((function(r){c()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function M(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=O()(e);if(r){var i=O()(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return y()(this,t)}}var I=function(e){h()(t,e);var r=M(t);function t(){var e;f()(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=r.call.apply(r,[this].concat(i))).state={seriesSelection:{},forceUpdate:!1},e.handleLegendSelectChanged=function(r){var t=e.props.disableableSeries,n=void 0===t?[]:t,i=r.selected,a=Object.keys(i).reduce((function(e,r){var t="Releases"===r||n.includes(r);return e[r]=!t||i[r],e}),{});e.setState({seriesSelection:a,forceUpdate:!0},(function(){return e.setState({forceUpdate:!1})}))},e}return v()(t,[{key:"shouldComponentUpdate",value:function(e,r){return!!r.forceUpdate||(!w()(this.state.seriesSelection,r.seriesSelection)||!(e.reloading||!e.timeseriesData)&&!(w()(this.props.timeseriesData,e.timeseriesData)&&w()(this.props.releaseSeries,e.releaseSeries)&&w()(this.props.previousTimeseriesData,e.previousTimeseriesData)))}},{key:"getChartComponent",value:function(){var e=this.props,r=e.showDaily,t=e.timeseriesData,n=e.yAxis;if(r)return x.a;if(t.length>1)switch(Object(Q.g)(n)){case"line":return R.a;case"area":return S.a;default:throw new Error("Unknown multi plot type for ".concat(n))}return S.a}},{key:"render",value:function(){var e,r=this.props,t=(r.loading,r.reloading,r.yAxis),n=r.releaseSeries,a=r.zoomRenderProps,s=r.timeseriesData,c=r.previousTimeseriesData,u=r.showLegend,p=r.legendOptions,f=r.chartOptions,d=r.currentSeriesName,v=r.previousSeriesName,b=r.seriesTransformer,h=r.colors,m=l()(r,["loading","reloading","yAxis","releaseSeries","zoomRenderProps","timeseriesData","previousTimeseriesData","showLegend","legendOptions","chartOptions","currentSeriesName","previousSeriesName","seriesTransformer","colors"]),y=this.state.seriesSelection,g=[null!=d?d:Object(z.b)("Current"),null!=v?v:Object(z.b)("Previous")];Array.isArray(n)&&g.push(Object(z.b)("Releases"));var O=u?H({right:16,top:12,data:g,selected:y},null!=p?p:{}):void 0,j=Array.isArray(n)?[].concat(o()(s),o()(n)):s;b&&(j=b(j));var D=H({colors:s.length?null!==(e=null==h?void 0:h.slice(0,j.length))&&void 0!==e?e:o()(U.b.charts.getColorPalette(s.length-2)):void 0,grid:{left:"24px",right:"24px",top:"32px",bottom:"12px"},seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",truncate:80,valueFormatter:function(e){return Object(L.c)(e,t)}},yAxis:{axisLabel:{color:U.b.chartLabel,formatter:function(e){return Object(L.b)(e,t)}}}},null!=f?f:{}),P=this.getChartComponent();return Object(W.f)(P,i()({},m,a,D,{legend:O,onLegendSelectChanged:this.handleLegendSelectChanged,series:j,previousPeriod:c?[c]:void 0}))}}]),t}(D.a.Component);I.displayName="Chart";var V=function(e){h()(t,e);var r=M(t);function t(){return f()(this,t),r.apply(this,arguments)}return v()(t,[{key:"render",value:function(){var e=this.props,r=e.api,t=e.period,n=e.utc,a=e.query,o=e.router,s=e.start,c=e.end,u=e.projects,p=e.environments,f=e.showLegend,d=e.yAxis,v=e.disablePrevious,b=e.disableReleases,h=e.emphasizeReleases,m=e.currentSeriesName,y=e.previousSeriesName,g=e.seriesTransformer,O=e.field,j=e.interval,P=e.showDaily,w=e.topEvents,S=e.orderby,x=e.confirmedQuery,R=e.colors,L=e.chartHeader,Q=e.legendOptions,U=e.chartOptions,J=e.preserveReleaseQueryParams,M=e.releaseQueryExtra,V=e.disableableSeries,B=l()(e,["api","period","utc","query","router","start","end","projects","environments","showLegend","yAxis","disablePrevious","disableReleases","emphasizeReleases","currentSeriesName","previousSeriesName","seriesTransformer","field","interval","showDaily","topEvents","orderby","confirmedQuery","colors","chartHeader","legendOptions","chartOptions","preserveReleaseQueryParams","releaseQueryExtra","disableableSeries"]),G=!v&&!s&&!c,K=null!=y?y:d?Object(z.b)("previous %s",d):void 0,X=null!=m?m:d,Y=P?"1d":j||Object(q.f)(this.props,!0),Z=function(e){var r=e.zoomRenderProps,t=e.releaseSeries,n=e.errored,i=e.loading,a=e.reloading,o=e.results,s=e.timeseriesData,c=e.previousTimeseriesData;if(n)return Object(W.f)(T.a,null,Object(W.f)(C.Ib,{color:"gray300",size:"lg"}));var u=o||s;return Object(W.f)(E.a,{loading:i,reloading:a},Object(W.f)(A.a,{visible:a}),D.a.isValidElement(L)&&L,Object(W.f)(I,{zoomRenderProps:r,loading:i,reloading:a,showLegend:f,releaseSeries:t||[],timeseriesData:null!=u?u:[],previousTimeseriesData:c,currentSeriesName:X,previousSeriesName:K,seriesTransformer:g,stacked:"number"==typeof w&&w>0,yAxis:d,showDaily:P,colors:R,legendOptions:Q,chartOptions:U,disableableSeries:V}))};if(!b){var $=Z;Z=function(e){return Object(W.f)(N.a,{utc:n,period:t,start:s,end:c,projects:u,environments:p,emphasizeReleases:h,preserveQueryParams:J,queryExtra:M},(function(r){var t=r.releaseSeries;return $(H(H({},e),{},{releaseSeries:t}))}))}}return Object(W.f)(k.a,i()({router:o,period:t,start:s,end:c,utc:n},B),(function(e){return Object(W.f)(F.a,i()({},B,{api:r,period:t,project:u,environment:p,start:s,end:c,interval:Y,query:a,includePrevious:G,currentSeriesName:X,previousSeriesName:K,yAxis:d,field:O,orderby:S,topEvents:w,confirmedQuery:x}),(function(r){return Z(H(H({},r),{},{zoomRenderProps:e}))}))}))}}]),t}(D.a.Component);V.displayName="EventsChart",r.a=V}}]);
//# sourceMappingURL=DiscoverV2Results~Events~PerformanceLanding~ReleasesDetailOverview.js.map