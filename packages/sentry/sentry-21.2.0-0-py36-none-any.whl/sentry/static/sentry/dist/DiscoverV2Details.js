(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[83],{2294:function(e,t,n){"use strict";var r=n(8),a=n.n(r),o=n(9),i=n.n(o),c=n(10),u=n.n(c),s=n(11),l=n.n(s),f=n(12),b=n.n(f),p=n(6),v=n.n(p),d=n(1),g=n.n(d),j=n(2020),O=n(2),y=n(575),h=n(0);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var D=function(e){l()(n,e);var t=w(n);function n(){return i()(this,n),t.apply(this,arguments)}return u()(n,[{key:"getCrumbs",value:function(){var e=[],t=this.props,n=t.eventView,r=t.event,a=t.organization,o=t.location,i=a.features.includes("discover-query")?{pathname:Object(y.d)(a),query:S(S(S({},o.query),n.generateBlankQueryStringObject()),n.getGlobalSelectionQuery())}:null;return e.push({to:i,label:Object(O.b)("Discover")}),n&&n.isValid()&&e.push({to:n.getResultsViewUrlTarget(a.slug),label:n.name||""}),r&&e.push({label:Object(O.b)("Event Detail")}),e}},{key:"render",value:function(){return Object(h.f)(j.a,{crumbs:this.getCrumbs()})}}]),n}(g.a.Component);D.displayName="DiscoverBreadcrumb",D.defaultProps={event:void 0},t.a=D},2915:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n.n(r),o=n(10),i=n.n(o),c=n(11),u=n.n(c),s=n(12),l=n.n(s),f=n(6),b=n.n(f),p=n(3),v=n(1),d=n.n(v),g=n(715),j=n(1923),O=n(2),y=n(220),h=n(431),m=n(57),S=n(8),w=n.n(S),D=n(180),k=n.n(D),I=n(129),z=n(704),P=n(26),R=n(75),x=n(729),E=n(459),V=n(2199),C=n(780),q=n(2419),T=n(2436),B=n(2278),N=n(2420),W=n(2421),F=n(2018),L=n(296),U=n(131),A=n(42),H=n(2422),_=n(15),G=n(7),J=n(37),K=n(62),Q=n(575),M=n(211),Y=n(226),X=n(2427),Z=n(1945),$=n(2294),ee=n(716),te=n(70),ne=n(1919),re=n(1014),ae=n(209),oe=n(69),ie=n(240),ce=n(781),ue=n(356),se=n(772),le=n(0);function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var be=function(e){u()(n,e);var t=fe(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"getEndpoints",value:function(){var e=this.props.groupId;return[["group","/issues/".concat(e,"/")]]}},{key:"renderLoading",value:function(){return Object(le.f)(ie.a,{height:"120px",bottomGutter:2})}},{key:"renderError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.state.errors,o=Object.values(a).find((function(e){return e&&404===e.status}));return o?Object(le.f)(te.b,{type:"warning",icon:Object(le.f)(_.Ib,{size:"md"})},Object(O.b)("The linked issue cannot be found. It may have been deleted, or merged.")):k()(b()(n.prototype),"renderError",this).call(this,e,t,r)}},{key:"renderBody",value:function(){var e=this.props.eventId,t=this.state.group,n="".concat(t.permalink,"events/").concat(e,"/");return Object(le.f)(pe,null,Object(le.f)(ne.f,null,Object(O.b)("Event Issue")),Object(le.f)(ve,null,Object(le.f)(de,null,Object(le.f)(ge,{to:n,"data-test-id":"linked-issue"},Object(le.f)(ye,{shortId:t.shortId,avatar:Object(le.f)(ae.a,{project:t.project,avatarSize:16,hideName:!0})})),Object(le.f)(Oe,{seenBy:t.seenBy,maxVisibleAvatars:5})),Object(le.f)(je,null,Object(le.f)(se.a,{statsPeriod:"30d",data:t,height:56})),Object(le.f)(he,null,Object(le.f)(re.a,{lastSeen:t.lastSeen,firstSeen:t.firstSeen}))))}}]),n}(z.a),pe=Object(p.a)("div",{target:"e1aotpux0",label:"Section"})("margin-bottom:",Object(G.a)(4),";"),ve=Object(p.a)("div",{target:"e1aotpux1",label:"StyledIssueCard"})("border:1px solid ",(function(e){return e.theme.border}),";border-radius:",(function(e){return e.theme.borderRadius}),";"),de=Object(p.a)("div",{target:"e1aotpux2",label:"IssueCardHeader"})("display:flex;align-items:center;justify-content:space-between;padding:",Object(G.a)(1),";"),ge=Object(p.a)(oe.a,{target:"e1aotpux3",label:"StyledLink"})({name:"1fn0841",styles:"justify-content:flex-start;"}),je=Object(p.a)("div",{target:"e1aotpux4",label:"IssueCardBody"})("background:",(function(e){return e.theme.backgroundSecondary}),";padding-top:",Object(G.a)(1),";"),Oe=Object(p.a)(ce.a,{target:"e1aotpux5",label:"StyledSeenByList"})({name:"1uk1gs8",styles:"margin:0;"}),ye=Object(p.a)(ue.a,{target:"e1aotpux6",label:"StyledShortId"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";color:",(function(e){return e.theme.textColor}),";"),he=Object(p.a)("div",{target:"e1aotpux7",label:"IssueCardFooter"})("color:",(function(e){return e.theme.gray300}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";padding:",Object(G.a)(.5)," ",Object(G.a)(1),";"),me=be;function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var ke=function(e){u()(n,e);var t=De(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={loading:!0,reloading:!1,error:!1,errors:[],event:void 0,isSidebarVisible:!0},e.toggleSidebar=function(){e.setState({isSidebarVisible:!e.state.isSidebarVisible})},e.generateTagKey=function(e){return e.key in K.c?"tags[".concat(e.key,"]"):e.key},e.generateTagUrl=function(t){var n=e.props,r=n.eventView,a=n.organization,o=e.state.event;if(!o)return"";var i=we({},o);i.id&&delete i.id;var c=e.generateTagKey(t);return Object(ee.e)(r,w()({},c,t.value),i).getResultsViewUrlTarget(a.slug)},e}return i()(n,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.params,r=e.location,a=e.eventView,o=n.eventSlug,i=a.getEventsAPIPayload(r);return i.field=[],[["event","/organizations/".concat(t.slug,"/events/").concat(o,"/"),{query:i}]]}},{key:"renderBody",value:function(){var e=this.state.event;return e?this.renderContent(e):Object(le.f)(x.a,null)}},{key:"renderContent",value:function(e){var t,n=this.props,r=n.organization,a=n.location,o=n.eventView,i=this.state.isSidebarVisible;Object(J.d)({eventKey:"discover_v2.event_details",eventName:"Discoverv2: Opened Event Details",event_type:e.type,organization_id:parseInt(r.id,10)});var c=null===(t=e.tags.find((function(e){return"transaction"===e.key})))||void 0===t?void 0:t.value,u="transaction"===e.type&&c?Object(Z.b)({orgSlug:r.slug,transaction:c,projectID:e.projectID,query:a.query}):null,s="transaction"===e.type&&r.features.includes("trace-view-quick")&&r.features.includes("trace-view-summary"),l="/api/0/projects/".concat(r.slug,"/").concat(this.projectId,"/events/").concat(e.eventID,"/json/");return Object(le.f)(d.a.Fragment,null,Object(le.f)(L.b,null,Object(le.f)(L.d,null,Object(le.f)($.a,{eventView:o,event:e,organization:r,location:a}),Object(le.f)(Ie,{event:e})),Object(le.f)(L.c,null,Object(le.f)(R.a,{gap:1},Object(le.f)(P.b,{onClick:this.toggleSidebar},i?"Hide Details":"Show Details"),s&&Object(le.f)(P.b,{icon:Object(le.f)(_.bb,null),href:l,external:!0},Object(O.b)("JSON")," (",Object(le.f)(F.a,{bytes:e.size}),")"),u&&Object(le.f)(I.a,{organization:r,features:["performance-view"]},(function(e){var t=e.hasFeature;return Object(le.f)(P.b,{disabled:!t,priority:"primary",to:u},Object(O.b)("Go to Summary"))}))))),Object(le.f)(L.a,null,s&&Object(le.f)(L.f,{fullWidth:!0},Object(le.f)(X.a,{event:e,organization:r,projectId:this.projectId,location:a})),Object(le.f)(L.f,{fullWidth:!i},Object(le.f)(Y.a,{orgId:r.slug,slugs:[this.projectId]},(function(t){var n=t.projects;return t.initiallyLoaded?Object(le.f)(B.b,{value:{getViewChildTransactionTarget:function(e){return{pathname:Object(Q.a)({eventSlug:e.eventSlug,orgSlug:r.slug}),query:o.generateQueryStringObject()}}}},Object(le.f)(V.a,{organization:r,event:e,project:n[0],location:a,showExampleCommit:!1,showTagSummary:!1})):Object(le.f)(A.default,null)}))),i&&Object(le.f)(L.g,null,!s&&Object(le.f)(d.a.Fragment,null,Object(le.f)(q.a,{event:e,organization:r,projectId:this.projectId}),Object(le.f)(W.a,{event:e})),Object(le.f)(N.a,{event:e}),Object(le.f)(T.a,{event:e}),e.groupID&&Object(le.f)(me,{groupId:e.groupID,eventId:e.eventID}),Object(le.f)(H.a,{generateUrl:this.generateTagUrl,event:e,query:o.query}))))}},{key:"renderError",value:function(e){var t=Object.values(this.state.errors).find((function(e){return e&&404===e.status})),r=Object.values(this.state.errors).find((function(e){return e&&403===e.status}));return t?Object(le.f)(x.a,null):r?Object(le.f)(U.a,{message:Object(O.b)("You do not have permission to view that event.")}):k()(b()(n.prototype),"renderError",this).call(this,e,!0,!0)}},{key:"renderComponent",value:function(){var e=this.props,t=e.eventView,r=e.organization,a=this.state.event,o=Object(ee.d)({eventView:t,event:a,organization:r});return Object(le.f)(j.a,{title:o,objSlug:r.slug},k()(b()(n.prototype),"renderComponent",this).call(this))}},{key:"projectId",get:function(){return this.props.eventSlug.split(":")[0]}}]),n}(z.a),Ie=function(e){var t=e.event,n=Object(M.b)(t);return Object(le.f)(ze,{"data-test-id":"event-header"},Object(le.f)(Pe,null,Object(le.f)(E.a,{data:t})),n&&Object(le.f)(Re,null,Object(le.f)(C.a,{message:n})))};Ie.displayName="EventHeader";var ze=Object(p.a)("div",{target:"e60qfln0",label:"EventHeaderContainer"})("max-width:",(function(e){return e.theme.breakpoints[0]}),";"),Pe=Object(p.a)("div",{target:"e60qfln1",label:"TitleWrapper"})("font-size:",(function(e){return e.theme.headerFontSize}),";margin-top:20px;"),Re=Object(p.a)("div",{target:"e60qfln2",label:"MessageWrapper"})("margin-top:",Object(G.a)(1),";"),xe=ke;function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var Ve=function(e){u()(n,e);var t=Ee(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).getEventSlug=function(){var t=e.props.params.eventSlug;return"string"==typeof t?t.trim():""},e.getEventView=function(){var t=e.props.location;return h.a.fromLocation(t)},e.getDocumentTitle=function(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),Object(O.b)("Discover")]:[Object(O.b)("Discover")]},e}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.location,r=e.params,a=this.getEventView(),o=this.getDocumentTitle(a.name).join(" - ");return Object(le.f)(j.a,{title:o,objSlug:t.slug},Object(le.f)(Ce,null,Object(le.f)(g.a,{organization:t},Object(le.f)(xe,{organization:t,location:n,params:r,eventView:a,eventSlug:this.getEventSlug()}))))}}]),n}(d.a.Component);Ve.displayName="EventDetails";t.default=Object(m.a)(Ve);var Ce=Object(p.a)(y.b,{target:"e1i20vgd0",label:"StyledPageContent"})({name:"y8aj3r",styles:"padding:0;"})}}]);
//# sourceMappingURL=DiscoverV2Details.js.map