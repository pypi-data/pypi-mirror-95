(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[119],{1918:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(9),a=r.n(n),i=r(10),o=r.n(i),c=r(11),u=r.n(c),s=r(12),l=r.n(s),f=r(6),d=r.n(f),b=(r(1),r(264)),p=r.n(b),v=r(704),O=r(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var a=d()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l()(this,r)}}var y=function(e){u()(r,e);var t=g(r);function r(){return a()(this,r),t.apply(this,arguments)}return o()(r,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(O.f)(p.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),r}(v.a);y.displayName="AsyncView"},1920:function(e,t,r){"use strict";var n=r(14),a=r.n(n),i=r(9),o=r.n(i),c=r(10),u=r.n(c),s=r(11),l=r.n(s),f=r(12),d=r.n(f),b=r(6),p=r.n(b),v=r(3),O=r(1),g=r.n(O),y=r(220),j=r(7),h=r(0);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p()(e);if(t){var a=p()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var w=function(e){l()(r,e);var t=m(r);function r(){return o()(this,r),t.apply(this,arguments)}return u()(r,[{key:"render",value:function(){var e=this.props,t=e.icon,r=e.title,n=e.subtitle,i=e.action,o=e.tabs,c=e.noTitleStyles,u=e.body,s=a()(e,["icon","title","subtitle","action","tabs","noTitleStyles","body"]),l=!n;return Object(h.f)("div",s,Object(h.f)(S,{isNarrow:l},Object(h.f)(k,null,t&&Object(h.f)(z,null,t),r&&Object(h.f)(P,{tabs:o,styled:c},Object(h.f)(y.a,null,r),n&&Object(h.f)(x,null,n))),i&&Object(h.f)(R,{isNarrow:l},i)),u&&Object(h.f)(A,null,u),o&&Object(h.f)(D,null,o))}}]),r}(g.a.Component);w.displayName="UnstyledSettingsPageHeader",w.defaultProps={noTitleStyles:!1};var S=Object(v.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})("display:flex;align-items:",(function(e){return e.isNarrow?"center":"flex-start"}),";"),k=Object(v.a)("div",{target:"e1uay4fd1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),P=Object(v.a)("div",{target:"e1uay4fd2",label:"Title"})((function(e){return!e.styled&&"font-size: 20px; font-weight: 600;"}),";margin:",Object(j.a)(4)," ",Object(j.a)(2)," ",Object(j.a)(3)," 0;"),x=Object(v.a)("div",{target:"e1uay4fd3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",Object(j.a)(1.5)," 0 0;"),z=Object(v.a)("div",{target:"e1uay4fd4",label:"Icon"})("margin-right:",Object(j.a)(1),";"),R=Object(v.a)("div",{target:"e1uay4fd5",label:"Action"})("margin-top:",(function(e){return e.isNarrow?"0":Object(j.a)(4)}),";"),N=Object(v.a)(w,{target:"e1uay4fd6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",Object(j.a)(4),";"),A=Object(v.a)("div",{target:"e1uay4fd7",label:"BodyWrapper"})("flex:1;margin:0 0 ",Object(j.a)(3),";"),D=Object(v.a)("div",{target:"e1uay4fd8",label:"TabsWrapper"})({name:"8k0ai7",styles:"flex:1;margin:0;"});t.a=N},1921:function(e,t,r){"use strict";t.a=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="".concat(e," - ").concat(t);return r?"".concat(n," - Sentry"):n}},2058:function(e,t,r){"use strict";var n=r(5),a=r.n(n),i=r(14),o=r.n(i),c=(r(1),r(432)),u=r(70),s=r(15),l=r(2),f=r(0),d=function(e){var t=e.access,r=void 0===t?["org:write"]:t,n=o()(e,["access"]);return Object(f.f)(c.a,{access:r},(function(e){return!e.hasAccess&&Object(f.f)(u.b,a()({type:"warning",icon:Object(f.f)(s.Ib,{size:"sm"})},n),Object(l.b)("These settings can only be edited by users with the organization owner or manager role."))}))};d.displayName="PermissionAlert",t.a=d},2906:function(e,t,r){"use strict";r.r(t);var n=r(9),a=r.n(n),i=r(10),o=r.n(i),c=r(11),u=r.n(c),s=r(12),l=r.n(s),f=r(6),d=r.n(f),b=(r(1),r(34)),p=r(2),v=r(1921),O=r(57),g=r(1918),y=r(43),j=r(96),h=r(32),m=r(18),w=r(866),S=r(433),k=r(1920),P=r(2058),x=r(5),z=r.n(x),R=r(8),N=r.n(R),A=r(14),D=r.n(A),T=r(3),q=r(432),F=r(129),I=r(443),L=r(26),C=r(225),E=r(325),B=r(15),W=r(7),H=r(0);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){N()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=function(e){var t=e.provider,r=e.active,n=e.onConfigure,a=function(e){null==n||n(t.key,e)},i=function(e){return Object(H.f)($,{provider:e.provider,features:e.features})},o=function(e){var r=e.hasFeature;return Object(H.f)(q.a,{access:["org:write"]},(function(e){var n=e.hasAccess;return Object(H.f)(L.b,{type:"submit",name:"provider",size:"small",value:t.key,disabled:!r||!n,onClick:a},Object(p.b)("Configure"))}))},c=t.requiredFeature,u=c?"feature-disabled:".concat(Object(m.e)(c)):null,s=u?{hookName:u}:{};return Object(H.f)(F.a,z()({},s,{features:[c].filter((function(e){return e})),renderDisabled:function(e){var t=e.children,r=D()(e,["children"]);return"function"==typeof t&&t(_(_({},r),{},{renderDisabled:i}))}}),(function(e){var n=e.hasFeature,a=e.features,i=e.renderDisabled,c=e.renderInstallButton;return Object(H.f)(j.f,{alignItems:"center"},Object(H.f)(V,null,Object(H.f)(K,{className:"provider-logo ".concat(t.name.replace(/\s/g,"-").toLowerCase())}),Object(H.f)("div",null,Object(H.f)(M,null,t.name),Object(H.f)(Q,null,Object(p.b)("Enable your organization to sign in with %s.",t.name)))),Object(H.f)(X,null,!n&&i({provider:t,features:a})),Object(H.f)("div",null,r?Object(H.f)(Y,null):(null!=c?c:o)({provider:t,hasFeature:n})))}))};J.displayName="ProviderItem";var G=J,V=Object(T.a)("div",{target:"e5klfxn0",label:"ProviderInfo"})("flex:1;display:grid;grid-template-columns:max-content 1fr;grid-gap:",Object(W.a)(2),";"),K=Object(T.a)("div",{target:"e5klfxn1",label:"ProviderLogo"})({name:"ipufnr",styles:"height:36px;width:36px;border-radius:3px;margin-right:0;top:auto;"}),M=Object(T.a)("div",{target:"e5klfxn2",label:"ProviderName"})({name:"in3yi3",styles:"font-weight:bold;"}),Q=Object(T.a)("div",{target:"e5klfxn3",label:"ProviderDescription"})("margin-top:",Object(W.a)(.75),";font-size:0.8em;"),X=Object(T.a)("div",{target:"e5klfxn4",label:"FeatureBadge"})({name:"1rr4qq7",styles:"flex:1;"}),Y=Object(T.a)("div",{target:"e5klfxn5",label:"ActiveIndicator"})("background:",(function(e){return e.theme.green300}),";color:",(function(e){return e.theme.white}),";padding:",Object(W.a)(1)," ",Object(W.a)(1.5),";border-radius:2px;font-size:0.8em;");Y.defaultProps={children:Object(p.b)("Active")};var Z=Object(T.a)(C.d,{target:"e5klfxn6",label:"DisabledHovercard"})({name:"1ivgbss",styles:"width:350px;"}),$=function(e){var t=e.provider,r=e.features,n=e.className;return Object(H.f)(Z,{containerClassName:n,body:Object(H.f)(I.a,{features:r,hideHelpToggle:!0,message:Object(p.b)("%s SSO is disabled.",t.name),featureName:Object(p.b)("SSO Auth")})},Object(H.f)(E.b,{icon:Object(H.f)(B.S,null)},Object(p.b)("disabled")))};$.displayName="LockedFeature";var ee={google:0,github:1,okta:2,"active-directory":3,saml2:4,onelogin:5,rippling:6,auth0:7},te=function(e){var t=e.organization,r=e.providerList,n=e.activeProvider,a=t.features,i=(null!=r?r:[]).sort((function(e,t){return e.key in ee?t.key in ee?ee[e.key]===ee[t.key]?0:ee[e.key]>ee[t.key]?1:-1:1:-1})).sort((function(e,t){var r=a.includes(Object(m.e)(e.requiredFeature));return r===a.includes(Object(m.e)(t.requiredFeature))?0:r?-1:1})),o=t.require2FA&&i.some((function(e){var t=e.requiredFeature;return a.includes(Object(m.e)(t))}));return Object(H.f)("div",{className:"sso"},Object(H.f)(k.a,{title:"Authentication"}),Object(H.f)(P.a,null),Object(H.f)(j.a,null,Object(H.f)(j.e,null,Object(p.b)("Choose a provider")),Object(H.f)(j.c,null,!n&&Object(H.f)(j.b,{type:"info"},Object(p.c)("Get started with Single Sign-on for your organization by selecting a provider. Read more in our [link:SSO documentation].",{link:Object(H.f)(y.a,{href:"https://docs.sentry.io/learn/sso/"})})),o&&Object(H.f)(j.b,{type:"warning"},Object(p.b)("Require 2FA will be disabled if you enable SSO.")),Object(H.f)("form",{action:"/organizations/".concat(t.slug,"/auth/configure/"),method:"POST"},Object(H.f)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:Object(w.a)(h.e)||""}),Object(H.f)("input",{type:"hidden",name:"init",value:"1"}),i.map((function(e){return Object(H.f)(G,{key:e.key,provider:e,active:!!n&&e.key===n.key})})),0===i.length&&Object(H.f)(S.a,null,Object(p.b)("No authentication providers are available."))))))};te.displayName="OrganizationAuthList";var re=Object(O.a)(te);function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var a=d()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l()(this,r)}}var ae=function(e){u()(r,e);var t=ne(r);function r(){var e;a()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).handleSendReminders=function(t){e.setState({sendRemindersBusy:!0}),e.api.request("/organizations/".concat(e.props.params.orgId,"/auth-provider/send-reminders/"),{method:"POST",data:{},success:function(){return Object(b.c)(Object(p.b)("Sent reminders to members"))},error:function(){return Object(b.a)(Object(p.b)("Failed to send reminders"))},complete:function(){return e.setState({sendRemindersBusy:!1})}})},e.handleConfigure=function(t){e.setState({busy:!0}),e.api.request("/organizations/".concat(e.props.params.orgId,"/auth-provider/"),{method:"POST",data:{provider:t,init:!0},success:function(e){e&&e.auth_url&&(window.location.href=e.auth_url)},error:function(){e.setState({busy:!1})}})},e.handleDisableProvider=function(t){e.setState({busy:!0}),e.api.request("/organizations/".concat(e.props.params.orgId,"/auth-provider/"),{method:"DELETE",data:{provider:t},success:function(){e.setState({provider:null,busy:!1})},error:function(){e.setState({busy:!1})}})},e}return o()(r,[{key:"UNSAFE_componentWillUpdate",value:function(e,t){var r=this.props.organization.access;t.provider&&r.includes("org:write")&&window.location.assign("/organizations/".concat(this.props.params.orgId,"/auth/configure/"))}},{key:"getEndpoints",value:function(){return[["providerList","/organizations/".concat(this.props.params.orgId,"/auth-providers/")],["provider","/organizations/".concat(this.props.params.orgId,"/auth-provider/")]]}},{key:"getTitle",value:function(){return Object(v.a)(Object(p.b)("Auth Settings"),this.props.organization.slug,!1)}},{key:"renderBody",value:function(){var e=this.state,t=e.providerList,r=e.provider;if(null===t)return null;if(this.props.organization.access.includes("org:write")&&r)return this.renderLoading();var n=null==t?void 0:t.find((function(e){return e.key===(null==r?void 0:r.key)}));return Object(H.f)(re,{activeProvider:n,providerList:t})}}]),r}(g.a);t.default=Object(O.a)(ae)}}]);
//# sourceMappingURL=OrganizationAuth.js.map